import{o as d,c as h,a as n,b as m,t as x,d as xt,r as M,_ as vt,C as Rt,e as Se,g as ue,f as wt,h as kt,i as It,S as Ut,j as At,F as Tt,k as b,l as He,w as Pe,m as ie,n as H,p as $,v as F,q as Z,s as V,u as X,x as k,y as Ct,z as v,A as Et,B as qe,D as Lt,E as Dt,G as ve,H as Nt}from"./index-OfqcJFP7.js";import{_ as re,I as J,u as We,g as Xe}from"./_plugin-vue_export-helper-BHggrymF.js";import{g as Ke,c as Ye,a as Ot,q as St,w as Pt,o as $t,b as Mt,d as $e,e as Me,f as jt,u as Bt}from"./index.esm2017-CX63Xga-.js";import{C as Ge,_ as Ft,a as Vt}from"./ChatModal-C1avrDUU.js";const zt={components:{Icon:J},setup(){const{user:s,logout:e}=We();return{user:s,logout:e}}},Ht={class:"flex justify-between items-center border-b border-gray-400/20"},qt={class:"flex justify-start items-center gap-1 p-2"},Wt=["src"],Xt={key:1,class:"bg-primary text-neutral shadow rounded-full p-1"},Kt={class:"font-medium text-xs sm:text-sm capitalize hidden sm:block"},Yt=n("div",{class:"h-3 border-r-2 border-gray-400/50 ml-2"},null,-1),Gt={class:"dropdown"},Qt={tabindex:"0",role:"button",class:"p-2"},Zt={tabindex:"0",class:"dropdown-content z-[1] menu border border-gray-400/10 p-2 shadow bg-base-100 rounded-md w-32"},Jt=n("p",{class:"text-xs"},"Logout",-1),es=xt('<div><label class="flex cursor-pointer gap-1 sm:gap-2"><svg xmlns="http://www.w3.org/2000/svg" width="15" height="15" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"></circle><path d="M12 1v2M12 21v2M4.2 4.2l1.4 1.4M18.4 18.4l1.4 1.4M1 12h2M21 12h2M4.2 19.8l1.4-1.4M18.4 5.6l1.4-1.4"></path></svg><input type="checkbox" value="sunset" class="toggle theme-controller w-10 h-4"><svg xmlns="http://www.w3.org/2000/svg" width="15" height="15" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path></svg></label></div>',1);function ts(s,e,o,t,i,a){const r=M("Icon");return d(),h("div",Ht,[n("div",qt,[n("div",null,[t.user.photoURL?(d(),h("img",{key:0,class:"h-8 w-8 rounded-full",src:t.user.photoURL,alt:"profile"},null,8,Wt)):(d(),h("div",Xt,[m(r,{icon:"mdi:user",class:"text-2xl"})]))]),n("h1",Kt,x(t.user.displayName),1),Yt,n("div",Gt,[n("div",Qt,[m(r,{icon:"solar:settings-bold"})]),n("ul",Zt,[n("div",{class:"btn flex justify-start",onClick:e[0]||(e[0]=c=>t.logout())},[m(r,{icon:"solar:logout-bold-duotone",class:"text-xl"}),Jt])])])]),es])}const ss=re(zt,[["render",ts]]);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qe="firebasestorage.googleapis.com",Ze="storageBucket",ns=2*60*1e3,os=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U extends Tt{constructor(e,o,t=0){super(Re(e),`Firebase Storage: ${o} (${Re(e)})`),this.status_=t,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,U.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Re(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var I;(function(s){s.UNKNOWN="unknown",s.OBJECT_NOT_FOUND="object-not-found",s.BUCKET_NOT_FOUND="bucket-not-found",s.PROJECT_NOT_FOUND="project-not-found",s.QUOTA_EXCEEDED="quota-exceeded",s.UNAUTHENTICATED="unauthenticated",s.UNAUTHORIZED="unauthorized",s.UNAUTHORIZED_APP="unauthorized-app",s.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",s.INVALID_CHECKSUM="invalid-checksum",s.CANCELED="canceled",s.INVALID_EVENT_NAME="invalid-event-name",s.INVALID_URL="invalid-url",s.INVALID_DEFAULT_BUCKET="invalid-default-bucket",s.NO_DEFAULT_BUCKET="no-default-bucket",s.CANNOT_SLICE_BLOB="cannot-slice-blob",s.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",s.NO_DOWNLOAD_URL="no-download-url",s.INVALID_ARGUMENT="invalid-argument",s.INVALID_ARGUMENT_COUNT="invalid-argument-count",s.APP_DELETED="app-deleted",s.INVALID_ROOT_OPERATION="invalid-root-operation",s.INVALID_FORMAT="invalid-format",s.INTERNAL_ERROR="internal-error",s.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(I||(I={}));function Re(s){return"storage/"+s}function Ae(){const s="An unknown error occurred, please check the error payload for server response.";return new U(I.UNKNOWN,s)}function is(s){return new U(I.OBJECT_NOT_FOUND,"Object '"+s+"' does not exist.")}function ls(s){return new U(I.QUOTA_EXCEEDED,"Quota for bucket '"+s+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function rs(){const s="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new U(I.UNAUTHENTICATED,s)}function as(){return new U(I.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function cs(s){return new U(I.UNAUTHORIZED,"User does not have permission to access '"+s+"'.")}function ds(){return new U(I.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function us(){return new U(I.CANCELED,"User canceled the upload/download.")}function hs(s){return new U(I.INVALID_URL,"Invalid URL '"+s+"'.")}function _s(s){return new U(I.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+s+"'.")}function ms(){return new U(I.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+Ze+"' property when initializing the app?")}function ps(){return new U(I.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function fs(){return new U(I.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function gs(s){return new U(I.UNSUPPORTED_ENVIRONMENT,`${s} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function ke(s){return new U(I.INVALID_ARGUMENT,s)}function Je(){return new U(I.APP_DELETED,"The Firebase app was deleted.")}function bs(s){return new U(I.INVALID_ROOT_OPERATION,"The operation '"+s+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function de(s,e){return new U(I.INVALID_FORMAT,"String does not match format '"+s+"': "+e)}function ce(s){throw new U(I.INTERNAL_ERROR,"Internal error: "+s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q{constructor(e,o){this.bucket=e,this.path_=o}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,o){let t;try{t=q.makeFromUrl(e,o)}catch{return new q(e,"")}if(t.path==="")return t;throw _s(e)}static makeFromUrl(e,o){let t=null;const i="([A-Za-z0-9.\\-_]+)";function a(f){f.path.charAt(f.path.length-1)==="/"&&(f.path_=f.path_.slice(0,-1))}const r="(/(.*))?$",c=new RegExp("^gs://"+i+r,"i"),u={bucket:1,path:3};function l(f){f.path_=decodeURIComponent(f.path)}const _="v[A-Za-z0-9_]+",y=o.replace(/[.]/g,"\\."),R="(/([^?#]*).*)?$",C=new RegExp(`^https?://${y}/${_}/b/${i}/o${R}`,"i"),T={bucket:1,path:3},D=o===Qe?"(?:storage.googleapis.com|storage.cloud.google.com)":o,w="([^?#]*)",j=new RegExp(`^https?://${D}/${i}/${w}`,"i"),E=[{regex:c,indices:u,postModify:a},{regex:C,indices:T,postModify:l},{regex:j,indices:{bucket:1,path:2},postModify:l}];for(let f=0;f<E.length;f++){const N=E[f],L=N.regex.exec(e);if(L){const A=L[N.indices.bucket];let K=L[N.indices.path];K||(K=""),t=new q(A,K),N.postModify(t);break}}if(t==null)throw hs(e);return t}}class ys{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xs(s,e,o){let t=1,i=null,a=null,r=!1,c=0;function u(){return c===2}let l=!1;function _(...w){l||(l=!0,e.apply(null,w))}function y(w){i=setTimeout(()=>{i=null,s(C,u())},w)}function R(){a&&clearTimeout(a)}function C(w,...j){if(l){R();return}if(w){R(),_.call(null,w,...j);return}if(u()||r){R(),_.call(null,w,...j);return}t<64&&(t*=2);let E;c===1?(c=2,E=0):E=(t+Math.random())*1e3,y(E)}let T=!1;function D(w){T||(T=!0,R(),!l&&(i!==null?(w||(c=2),clearTimeout(i),y(0)):w||(c=1)))}return y(0),a=setTimeout(()=>{r=!0,D(!0)},o),D}function vs(s){s(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rs(s){return s!==void 0}function ws(s){return typeof s=="object"&&!Array.isArray(s)}function Te(s){return typeof s=="string"||s instanceof String}function je(s){return Ce()&&s instanceof Blob}function Ce(){return typeof Blob<"u"}function Be(s,e,o,t){if(t<e)throw ke(`Invalid value for '${s}'. Expected ${e} or greater.`);if(t>o)throw ke(`Invalid value for '${s}'. Expected ${o} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fe(s,e,o){let t=e;return o==null&&(t=`https://${e}`),`${o}://${t}/v0${s}`}function et(s){const e=encodeURIComponent;let o="?";for(const t in s)if(s.hasOwnProperty(t)){const i=e(t)+"="+e(s[t]);o=o+i+"&"}return o=o.slice(0,-1),o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var oe;(function(s){s[s.NO_ERROR=0]="NO_ERROR",s[s.NETWORK_ERROR=1]="NETWORK_ERROR",s[s.ABORT=2]="ABORT"})(oe||(oe={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ks(s,e){const o=s>=500&&s<600,i=[408,429].indexOf(s)!==-1,a=e.indexOf(s)!==-1;return o||i||a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Is{constructor(e,o,t,i,a,r,c,u,l,_,y,R=!0){this.url_=e,this.method_=o,this.headers_=t,this.body_=i,this.successCodes_=a,this.additionalRetryCodes_=r,this.callback_=c,this.errorCallback_=u,this.timeout_=l,this.progressCallback_=_,this.connectionFactory_=y,this.retry=R,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((C,T)=>{this.resolve_=C,this.reject_=T,this.start_()})}start_(){const e=(t,i)=>{if(i){t(!1,new me(!1,null,!0));return}const a=this.connectionFactory_();this.pendingConnection_=a;const r=c=>{const u=c.loaded,l=c.lengthComputable?c.total:-1;this.progressCallback_!==null&&this.progressCallback_(u,l)};this.progressCallback_!==null&&a.addUploadProgressListener(r),a.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&a.removeUploadProgressListener(r),this.pendingConnection_=null;const c=a.getErrorCode()===oe.NO_ERROR,u=a.getStatus();if(!c||ks(u,this.additionalRetryCodes_)&&this.retry){const _=a.getErrorCode()===oe.ABORT;t(!1,new me(!1,null,_));return}const l=this.successCodes_.indexOf(u)!==-1;t(!0,new me(l,a))})},o=(t,i)=>{const a=this.resolve_,r=this.reject_,c=i.connection;if(i.wasSuccessCode)try{const u=this.callback_(c,c.getResponse());Rs(u)?a(u):a()}catch(u){r(u)}else if(c!==null){const u=Ae();u.serverResponse=c.getErrorText(),this.errorCallback_?r(this.errorCallback_(c,u)):r(u)}else if(i.canceled){const u=this.appDelete_?Je():us();r(u)}else{const u=ds();r(u)}};this.canceled_?o(!1,new me(!1,null,!0)):this.backoffId_=xs(e,o,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&vs(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class me{constructor(e,o,t){this.wasSuccessCode=e,this.connection=o,this.canceled=!!t}}function Us(s,e){e!==null&&e.length>0&&(s.Authorization="Firebase "+e)}function As(s,e){s["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function Ts(s,e){e&&(s["X-Firebase-GMPID"]=e)}function Cs(s,e){e!==null&&(s["X-Firebase-AppCheck"]=e)}function Es(s,e,o,t,i,a,r=!0){const c=et(s.urlParams),u=s.url+c,l=Object.assign({},s.headers);return Ts(l,e),Us(l,o),As(l,a),Cs(l,t),new Is(u,s.method,l,s.body,s.successCodes,s.additionalRetryCodes,s.handler,s.errorHandler,s.timeout,s.progressCallback,i,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ls(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function Ds(...s){const e=Ls();if(e!==void 0){const o=new e;for(let t=0;t<s.length;t++)o.append(s[t]);return o.getBlob()}else{if(Ce())return new Blob(s);throw new U(I.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function Ns(s,e,o){return s.webkitSlice?s.webkitSlice(e,o):s.mozSlice?s.mozSlice(e,o):s.slice?s.slice(e,o):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Os(s){if(typeof atob>"u")throw gs("base-64");return atob(s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class we{constructor(e,o){this.data=e,this.contentType=o||null}}function Ss(s,e){switch(s){case G.RAW:return new we(tt(e));case G.BASE64:case G.BASE64URL:return new we(st(s,e));case G.DATA_URL:return new we($s(e),Ms(e))}throw Ae()}function tt(s){const e=[];for(let o=0;o<s.length;o++){let t=s.charCodeAt(o);if(t<=127)e.push(t);else if(t<=2047)e.push(192|t>>6,128|t&63);else if((t&64512)===55296)if(!(o<s.length-1&&(s.charCodeAt(o+1)&64512)===56320))e.push(239,191,189);else{const a=t,r=s.charCodeAt(++o);t=65536|(a&1023)<<10|r&1023,e.push(240|t>>18,128|t>>12&63,128|t>>6&63,128|t&63)}else(t&64512)===56320?e.push(239,191,189):e.push(224|t>>12,128|t>>6&63,128|t&63)}return new Uint8Array(e)}function Ps(s){let e;try{e=decodeURIComponent(s)}catch{throw de(G.DATA_URL,"Malformed data URL.")}return tt(e)}function st(s,e){switch(s){case G.BASE64:{const i=e.indexOf("-")!==-1,a=e.indexOf("_")!==-1;if(i||a)throw de(s,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case G.BASE64URL:{const i=e.indexOf("+")!==-1,a=e.indexOf("/")!==-1;if(i||a)throw de(s,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let o;try{o=Os(e)}catch(i){throw i.message.includes("polyfill")?i:de(s,"Invalid character found")}const t=new Uint8Array(o.length);for(let i=0;i<o.length;i++)t[i]=o.charCodeAt(i);return t}class nt{constructor(e){this.base64=!1,this.contentType=null;const o=e.match(/^data:([^,]+)?,/);if(o===null)throw de(G.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const t=o[1]||null;t!=null&&(this.base64=js(t,";base64"),this.contentType=this.base64?t.substring(0,t.length-7):t),this.rest=e.substring(e.indexOf(",")+1)}}function $s(s){const e=new nt(s);return e.base64?st(G.BASE64,e.rest):Ps(e.rest)}function Ms(s){return new nt(s).contentType}function js(s,e){return s.length>=e.length?s.substring(s.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class se{constructor(e,o){let t=0,i="";je(e)?(this.data_=e,t=e.size,i=e.type):e instanceof ArrayBuffer?(o?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),t=this.data_.length):e instanceof Uint8Array&&(o?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),t=e.length),this.size_=t,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,o){if(je(this.data_)){const t=this.data_,i=Ns(t,e,o);return i===null?null:new se(i)}else{const t=new Uint8Array(this.data_.buffer,e,o-e);return new se(t,!0)}}static getBlob(...e){if(Ce()){const o=e.map(t=>t instanceof se?t.data_:t);return new se(Ds.apply(null,o))}else{const o=e.map(r=>Te(r)?Ss(G.RAW,r).data:r.data_);let t=0;o.forEach(r=>{t+=r.byteLength});const i=new Uint8Array(t);let a=0;return o.forEach(r=>{for(let c=0;c<r.length;c++)i[a++]=r[c]}),new se(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ot(s){let e;try{e=JSON.parse(s)}catch{return null}return ws(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bs(s){if(s.length===0)return null;const e=s.lastIndexOf("/");return e===-1?"":s.slice(0,e)}function Fs(s,e){const o=e.split("/").filter(t=>t.length>0).join("/");return s.length===0?o:s+"/"+o}function it(s){const e=s.lastIndexOf("/",s.length-2);return e===-1?s:s.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vs(s,e){return e}class P{constructor(e,o,t,i){this.server=e,this.local=o||e,this.writable=!!t,this.xform=i||Vs}}let pe=null;function zs(s){return!Te(s)||s.length<2?s:it(s)}function lt(){if(pe)return pe;const s=[];s.push(new P("bucket")),s.push(new P("generation")),s.push(new P("metageneration")),s.push(new P("name","fullPath",!0));function e(a,r){return zs(r)}const o=new P("name");o.xform=e,s.push(o);function t(a,r){return r!==void 0?Number(r):r}const i=new P("size");return i.xform=t,s.push(i),s.push(new P("timeCreated")),s.push(new P("updated")),s.push(new P("md5Hash",null,!0)),s.push(new P("cacheControl",null,!0)),s.push(new P("contentDisposition",null,!0)),s.push(new P("contentEncoding",null,!0)),s.push(new P("contentLanguage",null,!0)),s.push(new P("contentType",null,!0)),s.push(new P("metadata","customMetadata",!0)),pe=s,pe}function Hs(s,e){function o(){const t=s.bucket,i=s.fullPath,a=new q(t,i);return e._makeStorageReference(a)}Object.defineProperty(s,"ref",{get:o})}function qs(s,e,o){const t={};t.type="file";const i=o.length;for(let a=0;a<i;a++){const r=o[a];t[r.local]=r.xform(t,e[r.server])}return Hs(t,s),t}function rt(s,e,o){const t=ot(e);return t===null?null:qs(s,t,o)}function Ws(s,e,o,t){const i=ot(e);if(i===null||!Te(i.downloadTokens))return null;const a=i.downloadTokens;if(a.length===0)return null;const r=encodeURIComponent;return a.split(",").map(l=>{const _=s.bucket,y=s.fullPath,R="/b/"+r(_)+"/o/"+r(y),C=fe(R,o,t),T=et({alt:"media",token:l});return C+T})[0]}function Xs(s,e){const o={},t=e.length;for(let i=0;i<t;i++){const a=e[i];a.writable&&(o[a.server]=s[a.local])}return JSON.stringify(o)}class Ee{constructor(e,o,t,i){this.url=e,this.method=o,this.handler=t,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function at(s){if(!s)throw Ae()}function Ks(s,e){function o(t,i){const a=rt(s,i,e);return at(a!==null),a}return o}function Ys(s,e){function o(t,i){const a=rt(s,i,e);return at(a!==null),Ws(a,i,s.host,s._protocol)}return o}function ct(s){function e(o,t){let i;return o.getStatus()===401?o.getErrorText().includes("Firebase App Check token is invalid")?i=as():i=rs():o.getStatus()===402?i=ls(s.bucket):o.getStatus()===403?i=cs(s.path):i=t,i.status=o.getStatus(),i.serverResponse=t.serverResponse,i}return e}function dt(s){const e=ct(s);function o(t,i){let a=e(t,i);return t.getStatus()===404&&(a=is(s.path)),a.serverResponse=i.serverResponse,a}return o}function Gs(s,e,o){const t=e.fullServerUrl(),i=fe(t,s.host,s._protocol),a="GET",r=s.maxOperationRetryTime,c=new Ee(i,a,Ys(s,o),r);return c.errorHandler=dt(e),c}function Qs(s,e){const o=e.fullServerUrl(),t=fe(o,s.host,s._protocol),i="DELETE",a=s.maxOperationRetryTime;function r(u,l){}const c=new Ee(t,i,r,a);return c.successCodes=[200,204],c.errorHandler=dt(e),c}function Zs(s,e){return s&&s.contentType||e&&e.type()||"application/octet-stream"}function Js(s,e,o){const t=Object.assign({},o);return t.fullPath=s.path,t.size=e.size(),t.contentType||(t.contentType=Zs(null,e)),t}function en(s,e,o,t,i){const a=e.bucketOnlyServerUrl(),r={"X-Goog-Upload-Protocol":"multipart"};function c(){let E="";for(let f=0;f<2;f++)E=E+Math.random().toString().slice(2);return E}const u=c();r["Content-Type"]="multipart/related; boundary="+u;const l=Js(e,t,i),_=Xs(l,o),y="--"+u+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+_+`\r
--`+u+`\r
Content-Type: `+l.contentType+`\r
\r
`,R=`\r
--`+u+"--",C=se.getBlob(y,t,R);if(C===null)throw ps();const T={name:l.fullPath},D=fe(a,s.host,s._protocol),w="POST",j=s.maxUploadRetryTime,O=new Ee(D,w,Ks(s,o),j);return O.urlParams=T,O.headers=r,O.body=C.uploadData(),O.errorHandler=ct(e),O}class tn{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=oe.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=oe.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=oe.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,o,t,i){if(this.sent_)throw ce("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(o,e,!0),i!==void 0)for(const a in i)i.hasOwnProperty(a)&&this.xhr_.setRequestHeader(a,i[a].toString());return t!==void 0?this.xhr_.send(t):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw ce("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw ce("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw ce("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw ce("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class sn extends tn{initXhr(){this.xhr_.responseType="text"}}function Le(){return new sn}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class le{constructor(e,o){this._service=e,o instanceof q?this._location=o:this._location=q.makeFromUrl(o,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,o){return new le(e,o)}get root(){const e=new q(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return it(this._location.path)}get storage(){return this._service}get parent(){const e=Bs(this._location.path);if(e===null)return null;const o=new q(this._location.bucket,e);return new le(this._service,o)}_throwIfRoot(e){if(this._location.path==="")throw bs(e)}}function nn(s,e,o){s._throwIfRoot("uploadBytes");const t=en(s.storage,s._location,lt(),new se(e,!0),o);return s.storage.makeRequestWithTokens(t,Le).then(i=>({metadata:i,ref:s}))}function on(s){s._throwIfRoot("getDownloadURL");const e=Gs(s.storage,s._location,lt());return s.storage.makeRequestWithTokens(e,Le).then(o=>{if(o===null)throw fs();return o})}function ln(s){s._throwIfRoot("deleteObject");const e=Qs(s.storage,s._location);return s.storage.makeRequestWithTokens(e,Le)}function rn(s,e){const o=Fs(s._location.path,e),t=new q(s._location.bucket,o);return new le(s.storage,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function an(s){return/^[A-Za-z]+:\/\//.test(s)}function cn(s,e){return new le(s,e)}function ut(s,e){if(s instanceof De){const o=s;if(o._bucket==null)throw ms();const t=new le(o,o._bucket);return e!=null?ut(t,e):t}else return e!==void 0?rn(s,e):s}function dn(s,e){if(e&&an(e)){if(s instanceof De)return cn(s,e);throw ke("To use ref(service, url), the first argument must be a Storage instance.")}else return ut(s,e)}function Fe(s,e){const o=e==null?void 0:e[Ze];return o==null?null:q.makeFromBucketSpec(o,s)}function un(s,e,o,t={}){s.host=`${e}:${o}`,s._protocol="http";const{mockUserToken:i}=t;i&&(s._overrideAuthToken=typeof i=="string"?i:At(i,s.app.options.projectId))}class De{constructor(e,o,t,i,a){this.app=e,this._authProvider=o,this._appCheckProvider=t,this._url=i,this._firebaseVersion=a,this._bucket=null,this._host=Qe,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=ns,this._maxUploadRetryTime=os,this._requests=new Set,i!=null?this._bucket=q.makeFromBucketSpec(i,this._host):this._bucket=Fe(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=q.makeFromBucketSpec(this._url,e):this._bucket=Fe(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){Be("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){Be("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const o=await e.getToken();if(o!==null)return o.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new le(this,e)}_makeRequest(e,o,t,i,a=!0){if(this._deleted)return new ys(Je());{const r=Es(e,this._appId,t,i,o,this._firebaseVersion,a);return this._requests.add(r),r.getPromise().then(()=>this._requests.delete(r),()=>this._requests.delete(r)),r}}async makeRequestWithTokens(e,o){const[t,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,o,t,i).getPromise()}}const Ve="@firebase/storage",ze="0.12.5";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ht="storage";function _t(s,e,o){return s=ue(s),nn(s,e,o)}function mt(s){return s=ue(s),on(s)}function hn(s){return s=ue(s),ln(s)}function Ie(s,e){return s=ue(s),dn(s,e)}function Ue(s=It(),e){s=ue(s);const t=wt(s,ht).getImmediate({identifier:e}),i=kt("storage");return i&&_n(t,...i),t}function _n(s,e,o,t={}){un(s,e,o,t)}function mn(s,{instanceIdentifier:e}){const o=s.getProvider("app").getImmediate(),t=s.getProvider("auth-internal"),i=s.getProvider("app-check-internal");return new De(o,t,i,e,Ut)}function pn(){vt(new Rt(ht,mn,"PUBLIC").setMultipleInstances(!0)),Se(Ve,ze,""),Se(Ve,ze,"esm2017")}pn();const fn={components:{Icon:J},setup(){const s=b(""),e=b(""),o=b(""),t=b([]),i=b(!1),a=b(""),r=b([]),c=b(!1),u=b(!1),l=b(null),_=b(null),y=He(),R=b(y.currentUser),C=Ke(),T=Ue(),D=Ye(C,"recipe");Pe(o,S=>{i.value=S.trim()!==""}),Pe(a,S=>{c.value=S.trim()!==""});const w=()=>{t.value.push(o.value),o.value="",console.log(t.value)},j=()=>{r.value.push(a.value),a.value="",console.log(r.value)},O=S=>{r.value.splice(S,1)},E=S=>{t.value.splice(S,1)},f=b(""),N=S=>{const W=S.target.files[0];W&&(l.value=W,_.value=URL.createObjectURL(W),f.value=W.name)},L=()=>{l.value=null,_.value=null,f.value=""},A=b(!1);return{title:s,descriptions:e,post:async()=>{A.value=!0;const{uid:S,displayName:W,photoURL:ae}=R.value;let ee="";const ne=new Date;if(l.value){const B=Ie(T,`images/${l.value.name}`),z=await _t(B,l.value);ee=await mt(z.ref)}const Q={userId:S,userName:W,userPhotoURL:ae,title:s.value,descriptions:e.value,allIngredients:t.value,allInstructions:r.value,createdAt:ne,imageURL:ee,totalRatings:0,averageRating:0};try{u.value=!0,await Ot(D,Q),s.value="",e.value="",t.value=[],r.value=[],a.value="",o.value="",l.value=null,document.getElementById("my_modal_3").close(),l.value=null,f.value="",console.log("success!")}catch(B){console.error("Error sending post recipe:",B),A.value=!1}finally{u.value=!1,A.value=!1}},ingredients:o,instructions:a,allInstructions:r,canAddIntructions:c,addIngredients:w,addInstructions:j,allIngredients:t,removeIngredients:E,removeIstructions:O,canAddIngredient:i,loading:u,handleImageUpload:N,imageName:f,imageURL:_,removeSelectedImage:L,postClickToAutoDisableIt:A}}},gn={class:"btn btn-primary rounded-full",onclick:"my_modal_3.showModal()"},bn={class:""},yn={id:"my_modal_3",class:"modal"},xn={class:"modal-box"},vn=n("form",{method:"dialog"},[n("button",{class:"btn btn-sm btn-circle btn-ghost absolute right-2 top-2"}," âœ• ")],-1),Rn=n("h3",{class:"font-bold text-lg"},"Add your recipe.",-1),wn={class:"py-3 grid grid-cols-1 gap-2"},kn={class:"form-control w-full"},In=n("div",{class:"label"},[n("span",{class:"text-xs sm:text-base"},"Title:")],-1),Un=n("span",{class:"text-xs sm:text-base"},"Descriptions:",-1),An=n("span",{class:"text-xs sm:text-base"},"Ingredients:",-1),Tn={class:"input input-bordered pr-0 flex items-center gap-2"},Cn=["disabled"],En={key:0},Ln={class:"grid grid-cols-1 gap-1 border border-gray-400/10 p-1 rounded-md"},Dn={class:"flex justify-between items-center px-2 py-0.5 bg-blue-100/10 border border-gray-500/10 rounded-md"},Nn={class:"text-xs font-medium"},On=["onUpdate:modelValue"],Sn=["onClick"],Pn=n("span",{class:"text-xs sm:text-base"},"Instructions:",-1),$n={class:"input input-bordered pr-0 flex items-center gap-2"},Mn=["disabled"],jn={key:1},Bn={class:"grid grid-cols-1 gap-1 border border-gray-400/10 p-1 rounded-md"},Fn={class:"flex justify-between items-center px-2 py-0.5 bg-blue-100/10 border border-gray-500/10 rounded-md"},Vn={class:"text-xs font-medium"},zn=["onUpdate:modelValue"],Hn=["onClick"],qn=n("p",{class:"text-xs font-medium"},"Add Image:",-1),Wn={key:0,class:"relative"},Xn=["src"],Kn={class:"flex items-center justify-center w-full my-2"},Yn={for:"dropzone-file",class:"flex flex-col items-center justify-center w-full border border-gray-400/50 h-20 rounded-md cursor-pointer"},Gn={class:"flex flex-col items-center justify-center pt-5 pb-6"},Qn=n("p",{class:"mb-2 text-sm"},[n("span",{class:"font-semibold"},"Click to upload")],-1),Zn={key:0,class:"text-xs"},Jn={key:0,class:"loading loading-dots loading-xs"};function eo(s,e,o,t,i,a){const r=M("Icon");return d(),h(V,null,[n("button",gn,[m(r,{icon:"ci:add-plus",class:"text-2xl"}),ie("Add Recipes ")]),n("div",bn,[n("dialog",yn,[n("div",xn,[vn,Rn,n("form",{onSubmit:e[8]||(e[8]=H((...c)=>t.post&&t.post(...c),["prevent"]))},[n("div",wn,[n("label",kn,[In,$(n("input",{type:"text",required:"","onUpdate:modelValue":e[0]||(e[0]=c=>t.title=c),placeholder:"Adobo",class:"input input-bordered placeholder:text-xs w-full"},null,512),[[F,t.title]])]),n("div",null,[Un,$(n("textarea",{class:"textarea textarea-bordered w-full placeholder:text-xs","onUpdate:modelValue":e[1]||(e[1]=c=>t.descriptions=c),required:"",placeholder:"A classic..."},null,512),[[F,t.descriptions]])]),n("div",null,[An,n("label",Tn,[$(n("input",{"onUpdate:modelValue":e[2]||(e[2]=c=>t.ingredients=c),type:"text",class:"w-full placeholder:text-xs",placeholder:"Eggs"},null,512),[[F,t.ingredients]]),n("button",{class:Z(["btn",t.canAddIngredient?"btn-primary ":"btn-disabled"]),disabled:!t.canAddIngredient,onClick:e[3]||(e[3]=H((...c)=>t.addIngredients&&t.addIngredients(...c),["prevent"]))},[m(r,{icon:"ci:add-plus",class:"text-2xl"})],10,Cn)])]),t.allIngredients.length!==0?(d(),h("div",En,[n("div",Ln,[(d(!0),h(V,null,X(t.allIngredients,(c,u)=>(d(),h("div",{key:c.id},[n("div",Dn,[n("span",Nn,x(u+1)+".",1),$(n("input",{type:"text","onUpdate:modelValue":l=>t.allIngredients[u]=l,class:"input my-1 mx-1 input-bordered input-sm w-full capitalize"},null,8,On),[[F,t.allIngredients[u]]]),n("button",{class:"btn btn-sm px-1.5 text-xl",onClick:H(l=>t.removeIngredients(u),["prevent"])},[m(r,{icon:"ri:close-line",class:"text-red-500"})],8,Sn)])]))),128))])])):k("",!0),n("div",null,[Pn,n("label",$n,[$(n("input",{type:"text","onUpdate:modelValue":e[4]||(e[4]=c=>t.instructions=c),class:"w-full placeholder:text-xs",placeholder:"Cook spaghetti until..."},null,512),[[F,t.instructions]]),n("button",{class:Z(["btn",t.canAddIntructions?"btn-primary":"btn-disabled"]),disabled:!t.canAddIntructions,onClick:e[5]||(e[5]=H((...c)=>t.addInstructions&&t.addInstructions(...c),["prevent"]))},[m(r,{icon:"ci:add-plus",class:"text-2xl"})],10,Mn)])]),t.allInstructions.length!==0?(d(),h("div",jn,[n("div",Bn,[(d(!0),h(V,null,X(t.allInstructions,(c,u)=>(d(),h("div",{key:c.id},[n("div",Fn,[n("span",Vn,x(u+1)+".",1),$(n("input",{type:"text","onUpdate:modelValue":l=>t.allInstructions[u]=l,class:"input my-1 mx-1 input-bordered input-sm w-full capitalize"},null,8,zn),[[F,t.allInstructions[u]]]),n("button",{class:"btn btn-sm px-1.5 text-xl",onClick:H(l=>t.removeIstructions(u),["prevent"])},[m(r,{icon:"ri:close-line",class:"text-red-500"})],8,Hn)])]))),128))])])):k("",!0),n("div",null,[qn,t.imageURL?(d(),h("div",Wn,[n("img",{src:t.imageURL,alt:"recipe image",class:"w-32 h-32 rounded-md my-1"},null,8,Xn),n("button",{class:"btn absolute top-0 right-0 btn-xs",onClick:e[6]||(e[6]=H((...c)=>t.removeSelectedImage&&t.removeSelectedImage(...c),["prevent"]))},[m(r,{icon:"carbon:close",class:"text-xl text-red-500"})])])):k("",!0),n("div",Kn,[n("label",Yn,[n("div",Gn,[m(r,{icon:"solar:upload-bold-duotone",class:"text-xl"}),Qn,t.imageName?(d(),h("span",Zn,x(t.imageName),1)):k("",!0)]),n("input",{id:"dropzone-file",accept:"image/*",type:"file",class:"hidden",onChange:e[7]||(e[7]=(...c)=>t.handleImageUpload&&t.handleImageUpload(...c))},null,32)])])]),n("button",{class:Z(["btn mt-5 w-full",t.postClickToAutoDisableIt||t.loading||t.allIngredients.length===0||t.allInstructions.length===0?"btn-disabled":"btn-primary "]),type:"submit"},[ie(" Post Recipe "),t.loading&&t.postClickToAutoDisableIt?(d(),h("span",Jn)):k("",!0)],2)])],32)])])])],64)}const to=re(fn,[["render",eo]]),so={},no={class:"flex flex-col gap-2 w-26"},oo=n("div",{class:"skeleton h-20 w-full"},null,-1),io=n("div",{class:"skeleton h-2 w-28"},null,-1),lo=n("div",{class:"skeleton h-2 w-20"},null,-1),ro=n("div",{class:"skeleton h-2 w-full"},null,-1),ao=[oo,io,lo,ro];function co(s,e){return d(),h("div",no,ao)}const pt=re(so,[["render",co]]),uo={class:"flex justify-start items-center gap-4 my-1"},ho={key:1,class:"text-xs"},_o=["onClick"],ft={__name:"ItemLists",props:{selectedItem:{type:Object,required:!0},itemDesables:{type:Array},handleClick:{type:Function,required:!0}},setup(s){return(e,o)=>(d(),h("ul",null,[(d(!0),h(V,null,X(s.selectedItem,(t,i)=>(d(),h("li",{key:t.id},[n("div",uo,[n("div",null,[s.itemDesables.some(a=>a===i)?(d(),Ct(v(J),{key:0,icon:"lets-icons:check-fill",class:"text-green-500 text-sm"})):(d(),h("span",ho,x(i+1),1))]),n("div",{class:Z(["text-xs px-2 py-1 bg-gray-400/10 flex justify-start items-center gap-2 font-medium cursor-pointer rounded-md",s.itemDesables.some(a=>a===i)?"line-through":""]),onClick:a=>s.handleClick(i)},x(t),11,_o)])]))),128))]))}},mo={props:{searchQuery:{type:String,default:""}},components:{Loading:pt,Icon:J,ItemLists:ft},setup(s,e){const{sendingRatingLoading:o,recipe:t,formatHour:i,isLoading:a,loading:r,showRecipeAllModal:c,selectedAllRecipe:u,ratings:l,setRating:_,closeModal:y,ratingsInText:R,sendRatings:C,starArray:T,filteredRecipes:D,muteRateBnt:w,clickInstructions:j,instructionsDisables:O,clickIngredients:E,ingredientsDisables:f}=Xe(s),{collection:N,query:L,onSnapshot:A,firestore:K}=We(),S=b([]),W=Et({}),ae=N(K,"users"),ee=L(ae),ne=A(ee,Q=>{const B=Q.docs.map(z=>({id:z.id,...z.data()}));localStorage.setItem("users",JSON.stringify(B)),S.value=B,B.forEach(z=>{W[z.id]=z.status})}),he=()=>{t.value=t.value.sort((Q,B)=>Q.title.localeCompare(B.title))},_e=()=>{t.value=t.value.sort((Q,B)=>B.averageRating-Q.averageRating)};return qe(()=>{ne()}),{loading:r,sendingRatingLoading:o,recipe:t,formatHour:i,isLoading:a,showRecipeAllModal:c,selectedAllRecipe:u,ratings:l,setRating:_,closeModal:y,ratingsInText:R,sendRatings:C,starArray:T,filteredRecipes:D,muteRateBnt:w,usersStatus:W,clickInstructions:j,instructionsDisables:O,clickIngredients:E,ingredientsDisables:f,sortLetters:he,sortRatings:_e}}},po={class:"border rounded-2xl border-gray-400/20 shadow p-2 my-3"},fo={class:"my-2 flex justify-between items-start"},go=n("span",{class:"font-semibold text-blue-500 text-sm py-1 px-4 bg-blue-500/10 rounded-full"},"All Recipes",-1),bo={class:""},yo={class:"dropdown dropdown-bottom dropdown-end"},xo={class:"tooltip tooltip-primary","data-tip":"Filter"},vo={tabindex:"0",role:"button",class:"btn rounded-full bg-transparent btn-sm px-1.5 hover:text-blue-500"},Ro={tabindex:"0",class:"dropdown-content border border-gray-500/20 menu bg-base-100 rounded-box z-[1] w-40 p-2 shadow"},wo=n("hr",{class:"border border-gray-500/10 my-2"},null,-1),ko={key:0,class:"w-full"},Io=n("span",{class:"text-sm px-4 py-1 w-full rounded-full bg-error/10 font-medium text-error"},"No Recipe found",-1),Uo=[Io],Ao={class:"flex justify-center sm:justify-start items-center"},To={key:0,class:"grid grid-cols-3 lg:grid-cols-4 gap-2 sm:gap-3 overflow-hidden py-5 px-2 sm:p-2"},Co=["onClick"],Eo={class:"rounded-full absolute -top-1 -left-1 shadow-xl border border-secondary"},Lo={class:"flex justify-center items-center"},Do={class:"avatar"},No=["src"],Oo={class:"bg-blue-500/10 rounded-md"},So={key:0,class:"w-full h-24 sm:h-32 md:h-40"},Po=["src"],$o={key:1,class:"pt-2 h-24 sm:h-32 md:h-40 flex justify-center items-center"},Mo={class:"py-2"},jo={class:"card-title text-sm sm:text-lg truncate"},Bo={class:"text-xs truncate"},Fo={class:"sm:text-xs py-0.5 text-[10px] font-medium px-2 rounded-full text-blue-500 truncate bg-blue-500/10"},Vo={class:"pt-2"},zo={key:0,class:"gap-1 text-sm font-medium flex justify-start items-center"},Ho={key:0},qo={id:"my_modal_4",class:"modal",ref:"recipeModal"},Wo={class:"modal-box no-scrollbar"},Xo={method:"dialog",class:"absolute top-0 right-0 p-2 z-10"},Ko={class:"font-bold text-4xl capitalize"},Yo={class:"text-xs px-2 py-1 rounded-full bg-primary/10 text-primary"},Go={key:0,class:"py-2 flex justify-start items-center"},Qo={class:"px-2 text-sm"},Zo={key:1,class:"py-2 flex justify-start items-center"},Jo=n("hr",{class:"border border-gray-500/10"},null,-1),ei={class:"py-4"},ti=n("p",{class:"text-xs text-primary"},"Discriptions:",-1),si={class:"capitalize font-medium text-sm"},ni=n("hr",{class:"border border-gray-500/10"},null,-1),oi={class:"py-4"},ii=n("p",{class:"text-xs text-primary"},"Ingredients:",-1),li=n("hr",{class:"border border-gray-500/10"},null,-1),ri={class:"py-4"},ai=n("p",{class:"text-xs text-primary"},"Instructions:",-1),ci=n("hr",{class:"border border-gray-500/10 my-2"},null,-1),di={key:2,class:"flex justify-center items-center"},ui={class:"text-xs tracking-wide bg-blue-500/10 shadow text-blue-500 px-2 py-1 font-semibold rounded-full"},hi={class:"flex justify-center gap-1"},_i={key:0,class:"text-sm font-semibold mt-1"},mi={key:1,class:"text-lg font-semibold mt-1"},pi={class:"flex justify-center items-center gap-2"},fi=["disabled","onClick"],gi={class:"flex justify-center items-center my-2"},bi=["disabled"],yi={key:0,class:"loading loading-dots loading-xs"};function xi(s,e,o,t,i,a){const r=M("Icon"),c=M("Loading"),u=M("ItemLists");return d(),h("div",po,[n("div",fo,[go,n("div",bo,[n("div",yo,[n("div",xo,[n("div",vo,[m(r,{icon:"mingcute:filter-3-fill",class:"text-xl"})])]),n("ul",Ro,[n("div",{onClick:e[0]||(e[0]=l=>t.sortLetters()),class:"text-sm font-semibold px-4 py-1 hover:bg-gray-500/20 rounded-full"}," A-Z "),wo,n("div",{onClick:e[1]||(e[1]=l=>t.sortRatings()),class:"text-sm font-semibold px-4 py-1 hover:bg-gray-500/20 rounded-full"}," Ratings ")])])])]),t.filteredRecipes.length===0&&!t.loading?(d(),h("div",ko,Uo)):k("",!0),n("div",Ao,[t.filteredRecipes?(d(),h("div",To,[(d(!0),h(V,null,X(t.filteredRecipes,l=>(d(),h("div",{key:l.id,onClick:_=>t.showRecipeAllModal(l),class:"card sm:w-52 w-26 bg-base-100 relative rounded-md"},[n("div",Eo,[n("div",Lo,[n("div",Do,[n("div",{class:Z([t.usersStatus[l.userId]==="online"?"ring-green-500":"ring-gray-500/50","w-5 rounded-full ring ring-offset-base-100 ring-offset-2"])},[l.userPhotoURL?(d(),h("img",{key:0,src:l.userPhotoURL,alt:"profile"},null,8,No)):k("",!0)],2)])])]),n("figure",Oo,[l.imageURL?(d(),h("div",So,[n("img",{loading:"lazy",src:l.imageURL,alt:"recipe",class:"rounded-md object-cover object-center h-full w-full"},null,8,Po)])):(d(),h("div",$o,[m(r,{icon:"emojione-v1:pot-of-food",class:"text-4xl"})]))]),n("div",Mo,[n("h2",jo,x(l.title),1),n("p",Bo,x(l.descriptions),1),n("span",Fo,x(l.userName),1),n("div",Vo,[l.averageRating?(d(),h("span",zo,[m(r,{icon:"ic:round-star",class:"text-xl text-yellow-500"}),ie(x(l.averageRating.toFixed(1)),1)])):k("",!0)])])],8,Co))),128)),t.loading?(d(),h("div",Ho,[m(c)])):k("",!0)])):k("",!0)]),n("dialog",qo,[n("div",Wo,[n("form",Xo,[n("button",{onClick:e[2]||(e[2]=(...l)=>t.closeModal&&t.closeModal(...l))},[m(r,{icon:"iconamoon:close-duotone",class:"text-2xl"})])]),n("h3",Ko,x(t.selectedAllRecipe.title),1),n("div",null,[n("span",Yo,x(t.selectedAllRecipe.userName),1)]),t.selectedAllRecipe.totalRatings>0?(d(),h("div",Go,[(d(!0),h(V,null,X(t.starArray,(l,_)=>(d(),h("div",{key:_},[m(r,{icon:l==="full"?"ic:round-star":l==="half"?"ic:round-star-half":"ic:outline-star-border",class:"text-xl text-yellow-500"},null,8,["icon"])]))),128)),n("span",Qo,x(t.selectedAllRecipe.ratingCount),1)])):(d(),h("div",Zo,[(d(),h(V,null,X(5,l=>n("div",{key:l.id},[m(r,{icon:"ic:outline-star-border",class:"text-xl"})])),64))])),Jo,n("div",ei,[ti,n("p",si,x(t.selectedAllRecipe.descriptions),1)]),ni,n("div",oi,[ii,m(u,{selectedItem:t.selectedAllRecipe.allIngredients,itemDesables:t.ingredientsDisables,handleClick:t.clickIngredients},null,8,["selectedItem","itemDesables","handleClick"])]),li,n("div",ri,[ai,m(u,{selectedItem:t.selectedAllRecipe.allInstructions,itemDesables:t.instructionsDisables,handleClick:t.clickInstructions},null,8,["selectedItem","itemDesables","handleClick"])]),ci,t.ratingsInText?(d(),h("div",di,[n("span",ui,x(t.ratingsInText),1)])):k("",!0),n("div",hi,[t.muteRateBnt?(d(),h("span",_i,"Thank's for rating! ðŸ˜Š")):(d(),h("span",mi,"Rate this recipe"))]),n("div",pi,[n("div",{class:Z([t.muteRateBnt?" hidden":"text-yellow-500 ","text-xl px-4 py-2 rounded-full flex gap-1"])},[(d(),h(V,null,X(5,l=>n("div",{key:l},[n("button",{disabled:t.muteRateBnt,onClick:_=>t.setRating(l,t.selectedAllRecipe.id),class:"flex justify-center items-center"},[m(r,{icon:t.ratings>=l?"ic:outline-star":"ic:outline-star-border"},null,8,["icon"])],8,fi)])),64))],2)]),n("div",gi,[t.ratingsInText?(d(),h("button",{key:0,disabled:t.ratings===0,class:"btn px-6 shadow rounded-full btn-primary flex justify-center items-center",onClick:e[3]||(e[3]=(...l)=>t.sendRatings&&t.sendRatings(...l))},[ie(" Submit "),t.sendingRatingLoading?(d(),h("span",yi)):k("",!0)],8,bi)):k("",!0)])])],512)])}const vi=re(mo,[["render",xi]]),Ri={components:{Loading:pt,Icon:J,ItemLists:ft},setup(s,e){const o=b(!0),t=b(!1),i=He(),a=b(i.currentUser),r=Ke(),{uid:c}=a.value,u=c,l=b([]),_=b({}),{clickInstructions:y,instructionsDisables:R,clickIngredients:C,ingredientsDisables:T}=Xe(s),D=Ye(r,"recipe"),w=St(D,$t("createdAt","asc"),Pt("userId","==",u)),j=Mt(w,p=>{l.value=p.docs.map(g=>({id:g.id,...g.data()})).reverse(),o.value=!1}),O=p=>{const g=p.seconds,Y=p.nanoseconds/1e6;return new Date(g*1e3+Y)},E=p=>{const g=O(p),Y=g.getFullYear().toString().slice(-2),te=g.toLocaleString("default",{month:"short"}),ye=g.getUTCDate(),xe=g.getHours()%12||12,bt=("0"+g.getMinutes()).slice(-2),yt=g.getHours()<12?"am":"pm";return`${ye} ${te} ${Y} - ${xe}:${bt} ${yt}`};let f=b("");const N=p=>{_.value=p,document.getElementById("my_modal_2").showModal()},L=(p,g)=>{_.value=g,f.value=p},A=()=>{document.getElementById("my_modal_delete").showModal()},K=()=>{console.log("edit recipe",f.value),console.log(_.value),document.getElementById("my_modal_edit").showModal()},S=async()=>{try{if(t.value=!0,!f.value){console.error("No recipe selected for deletion.");return}const p=$e(r,"recipe",f.value),Y=(await Me(p)).data();if(await jt(p),Y&&Y.imageURL){const ye=Ue(),xe=Ie(ye,Y.imageURL);await hn(xe)}document.getElementById("my_modal_delete").close(),console.log("Recipe and associated image deleted successfully:",f.value)}catch(p){console.error("Error deleting recipe and associated image:",p),document.getElementById("my_modal_delete").close(),t.value=!1}finally{t.value=!1}},W=async(p,g)=>{const Y=Ue(),te=Ie(Y,`images/${g}/${p.name}`);return await _t(te,p),await mt(te)},ae=async()=>{try{t.value=!0;let p=null;z.value&&(p=await W(z.value,u));const g=$e(r,"recipe",f.value),te=(await Me(g)).data();await Bt(g,{..._.value,imageURL:p||te.imageURL}),Oe("my_modal_edit"),console.log("Recipe updated successfully:",f.value)}catch(p){console.error("Error updating recipe:",p),document.getElementById("my_modal_edit").close()}finally{t.value=!1}},ee=b(""),ne=b(""),he=()=>{_.value.allIngredients.push(ee.value),console.log(_.value.allIngredients),ee.value=""},_e=p=>{_.value.allIngredients.splice(p,1),console.log(_.value.allIngredients)},Q=()=>{_.value.allInstructions.push(ne.value),console.log(_.value.allInstructions),ne.value=""},B=p=>{_.value.allInstructions.splice(p,1),console.log(_.value.allInstructions)},z=b(null),ge=b(""),be=b(null),gt=p=>{const g=p.target.files[0];g&&(z.value=g,be.value=URL.createObjectURL(g),ge.value=g.name),_.value.imageURL=z.value,console.log(g)},Ne=()=>{z.value=null,be.value=null,ge.value="",_.value.imageURL=null},Oe=p=>{R.value=[],T.value=[],document.getElementById(p).close(),Ne()};return qe(()=>{j()}),{loading:o,isSaveloading:t,recipe:l,formatHour:E,editShowRecipe:L,deleteShowRecipe:A,showRecipeModal:N,selectedRecipe:_,editRecipe:K,deleteRecipe:S,saveEditRecipe:ae,removeIngredient:_e,addIngredient:he,editAddInstruction:ne,editAddIngredient:ee,removeInstruction:B,addInstruction:Q,handleImageUpload:gt,imageName:ge,imageURL:be,clearImageSelection:Ne,clickInstructions:y,instructionsDisables:R,clickIngredients:C,ingredientsDisables:T,closeModal:Oe}}},wi={class:"border rounded-2xl border-gray-400/20 shadow p-2 my-3"},ki=n("div",{class:"my-2"},[n("span",{class:"font-semibold text-sm py-1 px-4 bg-gray-500/10 rounded-full"},"Your Recipes")],-1),Ii={key:0},Ui=n("div",{class:"my-2"},[n("span",{class:"font-semibold text-xs text-red-400 px-3 py-0.5 rounded-full"},"You don't have recipe yet.")],-1),Ai=[Ui],Ti={class:"flex justify-center sm:justify-start items-center"},Ci={key:0,class:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 gap-1 sm:gap-3 overflow-hidden py-5 sm:p-2"},Ei=["onClick"],Li={class:"dropdown dropdown-end absolute z-50 top-0 right-0 text-gray-800 shadow"},Di=["onClick"],Ni={tabindex:"0",role:"button",class:"btn btn-primary rounded-none btn-xs"},Oi={tabindex:"0",class:"dropdown-content z-[20] menu border border-gray-400/10 p-2 shadow bg-base-100 rounded-md w-32"},Si=n("p",{class:"text-xs"},"Edit",-1),Pi=n("p",{class:"text-xs"},"Delete",-1),$i={class:"bg-blue-500/10 rounded-md"},Mi={key:0,class:"w-full bg-primary/10 h-24 sm:h-30 md:h-40"},ji=["src"],Bi={key:1,class:"pt-2 h-24 sm:h-32 md:h-40 flex justify-center items-center"},Fi={class:"py-3"},Vi={class:"card-title truncate"},zi={class:"text-xs truncate"},Hi={class:"text-[10px] text-gray-500 font-medium"},qi={key:0},Wi={id:"my_modal_edit",class:"modal"},Xi={class:"modal-box no-scrollbar"},Ki=n("h3",{class:"font-bold text-4xl"},"Edit Recipe",-1),Yi={class:"py-2"},Gi=n("label",{class:"block text-sm font-medium text-primary"},"Title",-1),Qi={class:"py-2"},Zi=n("label",{class:"block text-sm font-medium text-primary"},"Description",-1),Ji={class:"py-2"},el=n("label",{class:"block text-sm font-medium text-primary"},"Ingredients",-1),tl={class:"border border-gray-400/50 p-2 rounded-md"},sl={class:"flex justify-start items-center gap-1"},nl={class:"py-1"},ol=["disabled"],il=n("hr",{class:"my-1 border border-gray-400/20"},null,-1),ll={class:"text-xs font-semibold"},rl=["onUpdate:modelValue"],al=["onClick"],cl={class:"py-2"},dl=n("label",{class:"block text-sm font-medium text-primary"},"Instructions",-1),ul={class:"border border-gray-400/50 p-2 rounded-md"},hl={class:"flex justify-start items-center gap-1"},_l={class:"py-1"},ml=["disabled"],pl=n("hr",{class:"my-1 border border-gray-400/20"},null,-1),fl={class:"text-xs font-semibold"},gl=["onUpdate:modelValue"],bl=["onClick"],yl={class:"py-2"},xl=n("label",{class:"block text-sm font-medium text-primary"},"Image",-1),vl={key:0,class:"relative"},Rl=["src"],wl={key:1,class:"my-1"},kl=n("span",{class:"text-sm font-medium px-4 py-1 bg-primary/10 rounded-full text-error"},"No image atm.",-1),Il=[kl],Ul={class:"flex items-center justify-center w-full my-2"},Al={for:"dropzone-files",class:"flex flex-col items-center justify-center w-full border border-gray-400/50 h-20 rounded-md cursor-pointer"},Tl={class:"flex flex-col items-center justify-center pt-5 pb-6"},Cl=n("p",{class:"mb-2 text-sm"},[n("span",{class:"font-semibold"},"Click to upload")],-1),El={key:0,class:"text-xs"},Ll={class:"modal-action"},Dl={key:0,class:"loading loading-dots loading-xs"},Nl=n("form",{method:"dialog"},[n("button",{class:"btn"},"Cancel")],-1),Ol={id:"my_modal_delete",class:"modal"},Sl={class:"modal-box no-scrollbar"},Pl=n("h3",{class:"font-bold text-lg"}," Are you sure you want to delete this recipe? ",-1),$l={class:"modal-action"},Ml={key:0,class:"loading loading-dots loading-xs"},jl=n("form",{method:"dialog"},[n("button",{class:"btn"},"Cancel")],-1),Bl={id:"my_modal_2",class:"modal",ref:"recipeModal"},Fl={class:"modal-box no-scrollbar"},Vl={method:"dialog",class:"absolute top-0 right-0 p-2 z-10"},zl={class:"font-bold text-4xl capitalize"},Hl={class:"py-4"},ql=n("p",{class:"text-xs text-primary"},"Discriptions:",-1),Wl={class:"capitalize font-medium text-sm"},Xl=n("hr",{class:"border border-gray-500/10"},null,-1),Kl={class:"py-4"},Yl=n("p",{class:"text-xs text-primary"},"Ingredients:",-1),Gl=n("hr",{class:"border border-gray-500/10"},null,-1),Ql={class:"py-4"},Zl=n("p",{class:"text-xs text-primary"},"Instructions:",-1);function Jl(s,e,o,t,i,a){const r=M("Icon"),c=M("Loading"),u=M("ItemLists");return d(),h("div",wi,[ki,t.recipe.length===0&&!t.loading?(d(),h("div",Ii,Ai)):k("",!0),n("div",Ti,[t.recipe.length!==0?(d(),h("div",Ci,[(d(!0),h(V,null,X(t.recipe,l=>(d(),h("div",{key:l.id,onClick:_=>t.showRecipeModal(l),class:"card sm:w-52 w-26 bg-base-100 relative rounded-md"},[n("div",Li,[n("button",{class:"flex justify-center items-center",onClick:H(_=>t.editShowRecipe(l.id,l),["stop"])},[n("div",Ni,[m(r,{icon:"material-symbols-light:settings-outline",class:"text-xl"})])],8,Di),n("ul",Oi,[n("div",{class:"btn flex justify-start text-green-500 mb-1",onClick:e[0]||(e[0]=H(_=>t.editRecipe(s.id),["stop"]))},[m(r,{icon:"material-symbols:edit"}),Si]),n("div",{class:"btn flex justify-start text-red-500",onClick:e[1]||(e[1]=H(_=>t.deleteShowRecipe(s.id),["stop"]))},[m(r,{icon:"ant-design:delete-twotone"}),Pi])])]),n("figure",$i,[l.imageURL?(d(),h("div",Mi,[n("img",{src:l.imageURL,alt:"recipe",loading:"lazy",class:"object-cover object-center h-full w-full rounded-md"},null,8,ji)])):(d(),h("div",Bi,[m(r,{icon:"emojione-v1:pot-of-food",class:"text-4xl"})]))]),n("div",Fi,[n("h2",Vi,x(l.title),1),n("p",zi,x(l.descriptions),1),n("p",Hi,x(t.formatHour(l.createdAt)),1)])],8,Ei))),128)),t.loading?(d(),h("div",qi,[m(c)])):k("",!0)])):k("",!0),n("dialog",Wi,[n("div",Xi,[Ki,n("div",Yi,[Gi,$(n("input",{type:"text","onUpdate:modelValue":e[2]||(e[2]=l=>t.selectedRecipe.title=l),class:"input input-bordered w-full"},null,512),[[F,t.selectedRecipe.title]])]),n("div",Qi,[Zi,$(n("textarea",{class:"textarea textarea-bordered w-full","onUpdate:modelValue":e[3]||(e[3]=l=>t.selectedRecipe.descriptions=l)},null,512),[[F,t.selectedRecipe.descriptions]])]),n("div",Ji,[el,n("div",tl,[n("div",sl,[$(n("input",{type:"text","onUpdate:modelValue":e[4]||(e[4]=l=>t.editAddIngredient=l),class:"input my-1 input-bordered w-full capitalize"},null,512),[[F,t.editAddIngredient]]),n("div",nl,[n("button",{disabled:t.editAddIngredient==="",class:"btn btn-primary",onClick:e[5]||(e[5]=(...l)=>t.addIngredient&&t.addIngredient(...l))}," Add ",8,ol)])]),il,(d(!0),h(V,null,X(t.selectedRecipe.allIngredients,(l,_)=>(d(),h("div",{key:_,class:"flex items-center space-x-2"},[n("span",ll,x(_+1)+".",1),$(n("input",{type:"text","onUpdate:modelValue":y=>t.selectedRecipe.allIngredients[_]=y,class:"input my-1 input-bordered input-sm w-full capitalize"},null,8,rl),[[F,t.selectedRecipe.allIngredients[_]]]),n("button",{class:"btn text-xl btn-sm px-1.5",onClick:H(y=>t.removeIngredient(_),["prevent"])},[m(r,{icon:"ri:close-line",class:"text-red-500"})],8,al)]))),128))])]),n("div",cl,[dl,n("div",ul,[n("div",hl,[$(n("input",{type:"text","onUpdate:modelValue":e[6]||(e[6]=l=>t.editAddInstruction=l),class:"input my-1 input-bordered w-full capitalize"},null,512),[[F,t.editAddInstruction]]),n("div",_l,[n("button",{disabled:t.editAddInstruction==="",class:"btn btn-primary",onClick:e[7]||(e[7]=(...l)=>t.addInstruction&&t.addInstruction(...l))}," Add ",8,ml)])]),pl,(d(!0),h(V,null,X(t.selectedRecipe.allInstructions,(l,_)=>(d(),h("div",{key:_,class:"flex items-center space-x-2"},[n("span",fl,x(_+1)+".",1),$(n("input",{type:"text","onUpdate:modelValue":y=>t.selectedRecipe.allInstructions[_]=y,class:"input my-1 input-bordered input-sm w-full capitalize"},null,8,gl),[[F,t.selectedRecipe.allInstructions[_]]]),n("button",{class:"btn btn-sm px-1.5 text-xl",onClick:H(y=>t.removeInstruction(_),["prevent"])},[m(r,{icon:"ri:close-line",class:"text-red-500"})],8,bl)]))),128))])]),n("div",yl,[xl,t.imageURL||t.selectedRecipe.imageURL?(d(),h("div",vl,[t.imageURL?(d(),h("button",{key:0,onClick:e[8]||(e[8]=(...l)=>t.clearImageSelection&&t.clearImageSelection(...l)),class:"absolute -top-1 -right-1 z-10 btn btn-xs"},[m(r,{icon:"ri:close-line",class:"text-red-500 text-xl"})])):k("",!0),t.imageURL||t.selectedRecipe.imageURL?(d(),h("img",{key:1,src:t.imageURL||t.selectedRecipe.imageURL,alt:"recipe",class:"w-min rounded-md my-1"},null,8,Rl)):k("",!0)])):(d(),h("div",wl,Il)),n("div",Ul,[n("label",Al,[n("div",Tl,[m(r,{icon:"solar:upload-bold-duotone",class:"text-xl"}),Cl,t.imageName?(d(),h("span",El,x(t.imageName),1)):k("",!0)]),n("input",{id:"dropzone-files",accept:"image/*",type:"file",class:"hidden",onChange:e[9]||(e[9]=(...l)=>t.handleImageUpload&&t.handleImageUpload(...l))},null,32)])])]),n("div",Ll,[n("button",{onClick:e[10]||(e[10]=H((...l)=>t.saveEditRecipe&&t.saveEditRecipe(...l),["stop"])),class:"btn btn-success w-32"},[ie(" Update "),t.isSaveloading?(d(),h("span",Dl)):k("",!0)]),Nl])])]),n("dialog",Ol,[n("div",Sl,[Pl,n("div",$l,[n("button",{onClick:e[11]||(e[11]=H((...l)=>t.deleteRecipe&&t.deleteRecipe(...l),["stop"])),class:"btn btn-error w-32"},[ie(" Delete "),t.isSaveloading?(d(),h("span",Ml)):k("",!0)]),jl])])]),n("dialog",Bl,[n("div",Fl,[n("form",Vl,[n("button",{onClick:e[12]||(e[12]=l=>t.closeModal("my_modal_2"))},[m(r,{icon:"iconamoon:close-duotone",class:"text-2xl"})])]),n("h3",zl,x(t.selectedRecipe.title),1),n("div",Hl,[ql,n("p",Wl,x(t.selectedRecipe.descriptions),1)]),Xl,n("div",Kl,[Yl,m(u,{selectedItem:t.selectedRecipe.allIngredients,itemDesables:t.ingredientsDisables,handleClick:t.clickIngredients},null,8,["selectedItem","itemDesables","handleClick"])]),Gl,n("div",Ql,[Zl,m(u,{selectedItem:t.selectedRecipe.allInstructions,itemDesables:t.instructionsDisables,handleClick:t.clickInstructions},null,8,["selectedItem","itemDesables","handleClick"])])])],512)])])}const er=re(Ri,[["render",Jl]]),tr={class:"text-sm text-gray-400 flex justify-start gap-2 items-center w-full border border-gray-500/40 rounded-full px-2 py-1"},sr={class:"p-1 rounded-full transition text-orange-500"},nr=n("span",null,"Search...",-1),or={id:"searchModal",class:"modal"},ir={class:"modal-box"},lr={method:"dialog",class:"absolute top-0 right-0 p-2 z-10"},rr={class:"my-3 flex justify-start gap-2 text-sm items-center"},ar={class:"min-h-96"},cr={class:"my-2"},dr={class:"font-semibold text-xs text-gray-500 bg-gray-500/10 px-3 py-0.5 shadow-sm rounded-full"},ur={key:1,class:""},hr={class:"font-medium text-sm text-red-400"},_r={id:"searchChat",class:"modal modal-bottom sm:modal-middle"},mr={__name:"Search",setup(s){const e=b(""),o=()=>{document.getElementById("searchModal").showModal(),console.log("hey")},t=Lt(()=>e.value===""?f.value.sort((N,L)=>{const A=a(u,N.id),K=a(u,L.id);return D.value[K]-D.value[A]}):f.value.filter(N=>N.userName.toLowerCase().includes(e.value.toLowerCase()))),{Time:i,getChatId:a,yourChat:r,sendMessage:c,userId:u,newMessage:l,messages:_,isLoading:y,isSendMessageLoading:R,filteredMessages:C,selectedUser:T,timestamp:D,userPhoto:w,userName:j,latestMessages:O,isSender:E,storedUsers:f}=Ge();return(N,L)=>(d(),h(V,null,[n("div",{class:"my-3 flex justify-start gap-2 items-center",onClick:L[0]||(L[0]=A=>o())},[n("div",tr,[n("div",sr,[m(v(J),{icon:"lets-icons:search-light",class:"text-2xl"})]),nr])]),n("dialog",or,[n("div",ir,[n("form",lr,[n("button",null,[m(v(J),{icon:"iconamoon:close-duotone",class:"text-2xl text-red-500"})])]),n("div",rr,[$(n("input",{type:"search",autofocus:"","onUpdate:modelValue":L[1]||(L[1]=A=>e.value=A),placeholder:"Search",class:"input input-bordered input-md w-full rounded-full"},null,512),[[F,e.value]])]),n("div",ar,[n("div",cr,[n("span",dr,[ie("Users "),n("span",{class:Z(["pl-1 text-blue-500",t.value.length===0?"text-red-500":""])},x(t.value.length),3)])]),n("div",null,[t.value.length!==0?(d(!0),h(V,{key:0},X(t.value,A=>(d(),h("div",{key:A.id},[m(Ft,{user:A,yourChat:()=>v(r)("searchChat",A),formatTime:v(i),latestMessages:v(O),getChatId:v(a),userId:v(u),isSender:v(E),timestamp:v(D)},null,8,["user","yourChat","formatTime","latestMessages","getChatId","userId","isSender","timestamp"])]))),128)):(d(),h("div",ur,[n("span",hr,x(e.value)+" not found",1)]))]),n("dialog",_r,[m(Vt,{userId:v(u),messages:v(_),selectedUser:v(T),userPhoto:v(w),userName:v(j),isSendMessageLoading:v(R),isLoading:v(y),formatTime:v(i),sendMessage:v(c),filteredMessages:v(C),modelValue:v(l),"onUpdate:modelValue":L[2]||(L[2]=A=>Dt(l)?l.value=A:null)},null,8,["userId","messages","selectedUser","userPhoto","userName","isSendMessageLoading","isLoading","formatTime","sendMessage","filteredMessages","modelValue"])])])])])],64))}},pr={class:"indicator"},fr={key:0,class:"indicator-item badge badge-primary text-xs font-semibold"},gr={class:"",onclick:"chatModal.showModal()"},br={id:"chatModal",class:"modal"},yr={class:"modal-box no-scrollbar"},xr=n("h3",{class:"font-bold text-xl"},"Chats",-1),vr=n("hr",{class:"border border-gray-400/10 my-1"},null,-1),Rr={class:"flex justify-start items-center gap-2 mt-2 mb-4"},wr=n("form",{method:"dialog",class:"modal-backdrop"},[n("button",null,"close")],-1),kr={__name:"chats",setup(s){const{newMessageArray:e}=Ge();return(o,t)=>{const i=M("router-link"),a=M("router-view");return d(),h(V,null,[m(i,{to:"yourChats",class:"relative flex justify-center"},{default:ve(()=>[n("div",pr,[v(e)!==0?(d(),h("span",fr,x(v(e)),1)):k("",!0),n("button",gr,[m(v(J),{icon:"ant-design:message-filled",class:"text-3xl hover:text-blue-500 transition"})])])]),_:1}),n("dialog",br,[n("div",yr,[xr,vr,m(mr),n("div",Rr,[m(i,{to:"yourChats"},{default:ve(()=>[n("button",{class:Z(["rounded-full tracking-wide",o.$route.path==="/yourChats"?"btn btn-sm bg-blue-400/10 text-blue-500 ":"hover:bg-blue-500/10 hover:text-blue-400 text-gray-400 transition px-4 py-1.5 font-semibold text-xs"])}," Home ",2)]),_:1}),m(i,{to:"chefs"},{default:ve(()=>[n("button",{class:Z(["rounded-full tracking-wide",o.$route.path==="/chefs"?"btn btn-sm text-blue-500 bg-blue-400/10":"hover:bg-blue-500/10 hover:text-blue-500 text-gray-400 transition px-4 py-1.5 font-semibold text-xs"])}," Chefs ",2)]),_:1})]),n("div",null,[m(a)])]),wr])],64)}}},Ir={components:{Header:ss,Icon:J,AddRecipe:to,AllRecipe:vi,YourRecipe:er,Chats:kr},setup(){return{search:b("")}}},Ur={class:"p-2 flex justify-center items-center"},Ar={class:"max-w-6xl min-w-2xl"},Tr={class:"flex justify-end gap-2 items-center my-2"},Cr={class:"flex justify-start items-center gap-2 mt-5"};function Er(s,e,o,t,i,a){const r=M("Header"),c=M("AddRecipe"),u=M("Chats"),l=M("YourRecipe"),_=M("AllRecipe"),y=Nt("motion-fade");return $((d(),h("div",Ur,[n("div",Ar,[m(r),n("div",Tr,[$(n("input",{type:"search","onUpdate:modelValue":e[0]||(e[0]=R=>t.search=R),placeholder:"Search...",class:"input rounded-full input-bordered sm:w-52 md:w-96 w-full"},null,512),[[F,t.search]])]),n("div",Cr,[m(c),m(u)]),m(l),m(_,{searchQuery:t.search},null,8,["searchQuery"])])])),[[y]])}const Sr=re(Ir,[["render",Er]]);export{Sr as default};
