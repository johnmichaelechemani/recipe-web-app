import{C as w,_ as I,a as L}from"./ChatFunctions-BfIGmybY.js";import{o as s,c as t,s as v,u as p,a,q as S,t as V,b as g,D as e,x as h,H as T,d as P}from"./index-jAJK1mtK.js";import"./_plugin-vue_export-helper-Du70wf7h.js";const q={class:"border-b pb-2 overflow-scroll no-scrollbar gap-3 w-full border-gray-500/10 rounded-md my-2 flex justify-start items-center"},B=["onClick"],F={class:"max-w-12"},j={class:"w-12 rounded-full"},z=["src"],D={class:"text-[10px] text-center truncate capitalize"},H={__name:"ChatHeads",props:{filteredUsers:{type:Object,required:!0},yourChat:{type:Function,required:!0}},setup(n){const r=i=>i.split(" ")[0];return(i,c)=>(s(),t("div",q,[(s(!0),t(v,null,p(n.filteredUsers,o=>(s(),t("div",{key:o.id,onClick:u=>n.yourChat(o)},[a("div",F,[a("div",{class:S(["avatar",o.status==="online"?"online":"offline"])},[a("div",j,[a("img",{src:o.userPhotoURL},null,8,z)])],2),a("p",D,V(r(o.userName)),1)])],8,B))),128))]))}},R={class:"min-h-96"},E={key:0},O={key:0},A=P('<div class="flex flex-col gap-4 w-32 ml-2"><div class="flex gap-2 items-center"><div class="skeleton w-10 h-10 rounded-full shrink-0"></div><div class="flex flex-col gap-2"><div class="skeleton h-2 w-10"></div><div class="skeleton h-2 w-20"></div></div></div></div>',1),G=[A],J={key:1},K={id:"openInbox",class:"modal modal-bottom sm:modal-middle"},Z={__name:"yourChats",setup(n){const{Time:r,getChatId:i,yourChat:c,sendMessage:o,userId:u,newMessage:m,messages:y,isLoading:_,isSendMessageLoading:C,filteredMessages:x,selectedUser:k,timestamp:M,userPhoto:N,userName:U,filteredUsers:d,latestMessages:$,isSender:b}=w();return(Q,f)=>(s(),t("div",R,[a("div",null,[g(H,{filteredUsers:e(d),yourChat:e(c)},null,8,["filteredUsers","yourChat"])]),e(d).length!==0?(s(),t("div",E,[(s(!0),t(v,null,p(e(d),l=>(s(),t("div",{key:l.id},[g(L,{user:l,yourChat:e(c),formatTime:e(r),latestMessages:e($),getChatId:e(i),userId:e(u),isSender:e(b),timestamp:e(M)},null,8,["user","yourChat","formatTime","latestMessages","getChatId","userId","isSender","timestamp"])]))),128))])):h("",!0),a("div",null,[e(_)?(s(),t("div",O,G)):h("",!0),e(d).length===0&&!e(_)?(s(),t("div",J,"No conversation")):h("",!0)]),a("dialog",K,[g(I,{userId:e(u),messages:e(y),selectedUser:e(k),userPhoto:e(N),userName:e(U),isSendMessageLoading:e(C),isLoading:e(_),formatTime:e(r),sendMessage:e(o),filteredMessages:e(x),modelValue:e(m),"onUpdate:modelValue":f[0]||(f[0]=l=>T(m)?m.value=l:null)},null,8,["userId","messages","selectedUser","userPhoto","userName","isSendMessageLoading","isLoading","formatTime","sendMessage","filteredMessages","modelValue"])])]))}};export{Z as default};
