import{r as D,o as d,c as u,a as n,b as m,t as x,d as xt,_ as vt,C as Rt,e as Se,g as ue,f as wt,h as kt,i as It,S as Ut,j as At,F as Tt,k as b,l as He,w as Pe,m as ie,n as H,p as M,v as F,q as Z,s as V,u as X,x as I,y as Ct,z as v,A as Et,B as qe,D as Lt,E as Dt,G as ve,H as Nt,I as Ot}from"./index-Ch5mVLk3.js";import{_ as re,I as J,u as We,g as Xe,c as Ke,a as St,b as Ye,q as Pt,w as $t,o as Mt,d as jt,e as $e,f as Me,h as Bt,i as Ft}from"./_plugin-vue_export-helper-Bo_H4aXX.js";import{C as Ge,_ as Vt,a as zt}from"./ChatModal-D_WDogT_.js";const Ht={components:{Icon:J},setup(){const{user:s,logout:e}=We();return{user:s,logout:e}}},qt={class:"flex justify-between items-center border-b border-gray-400/20"},Wt={class:"flex justify-start items-center gap-1 p-2"},Xt=["src"],Kt={key:1,class:"bg-primary text-neutral shadow rounded-full p-1"},Yt={class:"font-medium text-xs sm:text-sm capitalize hidden sm:block"},Gt=n("div",{class:"h-3 border-r-2 border-gray-400/50 ml-2"},null,-1),Qt={class:"dropdown"},Zt={tabindex:"0",role:"button",class:"p-2"},Jt={tabindex:"0",class:"dropdown-content z-[1] menu border border-gray-400/10 p-2 shadow bg-base-100 rounded-md w-32"},es=n("p",{class:"text-xs"},"Logout",-1),ts=xt('<div><label class="flex cursor-pointer gap-1 sm:gap-2"><svg xmlns="http://www.w3.org/2000/svg" width="15" height="15" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"></circle><path d="M12 1v2M12 21v2M4.2 4.2l1.4 1.4M18.4 18.4l1.4 1.4M1 12h2M21 12h2M4.2 19.8l1.4-1.4M18.4 5.6l1.4-1.4"></path></svg><input type="checkbox" value="sunset" class="toggle theme-controller w-10 h-4"><svg xmlns="http://www.w3.org/2000/svg" width="15" height="15" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path></svg></label></div>',1);function ss(s,e,o,t,i,a){const r=D("Icon");return d(),u("div",qt,[n("div",Wt,[n("div",null,[t.user.photoURL?(d(),u("img",{key:0,class:"h-8 w-8 rounded-full",src:t.user.photoURL,alt:"profile"},null,8,Xt)):(d(),u("div",Kt,[m(r,{icon:"mdi:user",class:"text-2xl"})]))]),n("h1",Yt,x(t.user.displayName),1),Gt,n("div",Qt,[n("div",Zt,[m(r,{icon:"solar:settings-bold"})]),n("ul",Jt,[n("div",{class:"btn flex justify-start",onClick:e[0]||(e[0]=c=>t.logout())},[m(r,{icon:"solar:logout-bold-duotone",class:"text-xl"}),es])])])]),ts])}const ns=re(Ht,[["render",ss]]);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qe="firebasestorage.googleapis.com",Ze="storageBucket",os=2*60*1e3,is=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A extends Tt{constructor(e,o,t=0){super(Re(e),`Firebase Storage: ${o} (${Re(e)})`),this.status_=t,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,A.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Re(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var U;(function(s){s.UNKNOWN="unknown",s.OBJECT_NOT_FOUND="object-not-found",s.BUCKET_NOT_FOUND="bucket-not-found",s.PROJECT_NOT_FOUND="project-not-found",s.QUOTA_EXCEEDED="quota-exceeded",s.UNAUTHENTICATED="unauthenticated",s.UNAUTHORIZED="unauthorized",s.UNAUTHORIZED_APP="unauthorized-app",s.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",s.INVALID_CHECKSUM="invalid-checksum",s.CANCELED="canceled",s.INVALID_EVENT_NAME="invalid-event-name",s.INVALID_URL="invalid-url",s.INVALID_DEFAULT_BUCKET="invalid-default-bucket",s.NO_DEFAULT_BUCKET="no-default-bucket",s.CANNOT_SLICE_BLOB="cannot-slice-blob",s.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",s.NO_DOWNLOAD_URL="no-download-url",s.INVALID_ARGUMENT="invalid-argument",s.INVALID_ARGUMENT_COUNT="invalid-argument-count",s.APP_DELETED="app-deleted",s.INVALID_ROOT_OPERATION="invalid-root-operation",s.INVALID_FORMAT="invalid-format",s.INTERNAL_ERROR="internal-error",s.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(U||(U={}));function Re(s){return"storage/"+s}function Ae(){const s="An unknown error occurred, please check the error payload for server response.";return new A(U.UNKNOWN,s)}function ls(s){return new A(U.OBJECT_NOT_FOUND,"Object '"+s+"' does not exist.")}function rs(s){return new A(U.QUOTA_EXCEEDED,"Quota for bucket '"+s+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function as(){const s="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new A(U.UNAUTHENTICATED,s)}function cs(){return new A(U.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function ds(s){return new A(U.UNAUTHORIZED,"User does not have permission to access '"+s+"'.")}function us(){return new A(U.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function hs(){return new A(U.CANCELED,"User canceled the upload/download.")}function _s(s){return new A(U.INVALID_URL,"Invalid URL '"+s+"'.")}function ms(s){return new A(U.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+s+"'.")}function ps(){return new A(U.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+Ze+"' property when initializing the app?")}function fs(){return new A(U.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function gs(){return new A(U.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function bs(s){return new A(U.UNSUPPORTED_ENVIRONMENT,`${s} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function ke(s){return new A(U.INVALID_ARGUMENT,s)}function Je(){return new A(U.APP_DELETED,"The Firebase app was deleted.")}function ys(s){return new A(U.INVALID_ROOT_OPERATION,"The operation '"+s+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function de(s,e){return new A(U.INVALID_FORMAT,"String does not match format '"+s+"': "+e)}function ce(s){throw new A(U.INTERNAL_ERROR,"Internal error: "+s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q{constructor(e,o){this.bucket=e,this.path_=o}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,o){let t;try{t=q.makeFromUrl(e,o)}catch{return new q(e,"")}if(t.path==="")return t;throw ms(e)}static makeFromUrl(e,o){let t=null;const i="([A-Za-z0-9.\\-_]+)";function a(f){f.path.charAt(f.path.length-1)==="/"&&(f.path_=f.path_.slice(0,-1))}const r="(/(.*))?$",c=new RegExp("^gs://"+i+r,"i"),h={bucket:1,path:3};function l(f){f.path_=decodeURIComponent(f.path)}const _="v[A-Za-z0-9_]+",y=o.replace(/[.]/g,"\\."),R="(/([^?#]*).*)?$",C=new RegExp(`^https?://${y}/${_}/b/${i}/o${R}`,"i"),w={bucket:1,path:3},N=o===Qe?"(?:storage.googleapis.com|storage.cloud.google.com)":o,k="([^?#]*)",j=new RegExp(`^https?://${N}/${i}/${k}`,"i"),E=[{regex:c,indices:h,postModify:a},{regex:C,indices:w,postModify:l},{regex:j,indices:{bucket:1,path:2},postModify:l}];for(let f=0;f<E.length;f++){const O=E[f],L=O.regex.exec(e);if(L){const T=L[O.indices.bucket];let K=L[O.indices.path];K||(K=""),t=new q(T,K),O.postModify(t);break}}if(t==null)throw _s(e);return t}}class xs{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vs(s,e,o){let t=1,i=null,a=null,r=!1,c=0;function h(){return c===2}let l=!1;function _(...k){l||(l=!0,e.apply(null,k))}function y(k){i=setTimeout(()=>{i=null,s(C,h())},k)}function R(){a&&clearTimeout(a)}function C(k,...j){if(l){R();return}if(k){R(),_.call(null,k,...j);return}if(h()||r){R(),_.call(null,k,...j);return}t<64&&(t*=2);let E;c===1?(c=2,E=0):E=(t+Math.random())*1e3,y(E)}let w=!1;function N(k){w||(w=!0,R(),!l&&(i!==null?(k||(c=2),clearTimeout(i),y(0)):k||(c=1)))}return y(0),a=setTimeout(()=>{r=!0,N(!0)},o),N}function Rs(s){s(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ws(s){return s!==void 0}function ks(s){return typeof s=="object"&&!Array.isArray(s)}function Te(s){return typeof s=="string"||s instanceof String}function je(s){return Ce()&&s instanceof Blob}function Ce(){return typeof Blob<"u"}function Be(s,e,o,t){if(t<e)throw ke(`Invalid value for '${s}'. Expected ${e} or greater.`);if(t>o)throw ke(`Invalid value for '${s}'. Expected ${o} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fe(s,e,o){let t=e;return o==null&&(t=`https://${e}`),`${o}://${t}/v0${s}`}function et(s){const e=encodeURIComponent;let o="?";for(const t in s)if(s.hasOwnProperty(t)){const i=e(t)+"="+e(s[t]);o=o+i+"&"}return o=o.slice(0,-1),o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var oe;(function(s){s[s.NO_ERROR=0]="NO_ERROR",s[s.NETWORK_ERROR=1]="NETWORK_ERROR",s[s.ABORT=2]="ABORT"})(oe||(oe={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Is(s,e){const o=s>=500&&s<600,i=[408,429].indexOf(s)!==-1,a=e.indexOf(s)!==-1;return o||i||a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Us{constructor(e,o,t,i,a,r,c,h,l,_,y,R=!0){this.url_=e,this.method_=o,this.headers_=t,this.body_=i,this.successCodes_=a,this.additionalRetryCodes_=r,this.callback_=c,this.errorCallback_=h,this.timeout_=l,this.progressCallback_=_,this.connectionFactory_=y,this.retry=R,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((C,w)=>{this.resolve_=C,this.reject_=w,this.start_()})}start_(){const e=(t,i)=>{if(i){t(!1,new me(!1,null,!0));return}const a=this.connectionFactory_();this.pendingConnection_=a;const r=c=>{const h=c.loaded,l=c.lengthComputable?c.total:-1;this.progressCallback_!==null&&this.progressCallback_(h,l)};this.progressCallback_!==null&&a.addUploadProgressListener(r),a.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&a.removeUploadProgressListener(r),this.pendingConnection_=null;const c=a.getErrorCode()===oe.NO_ERROR,h=a.getStatus();if(!c||Is(h,this.additionalRetryCodes_)&&this.retry){const _=a.getErrorCode()===oe.ABORT;t(!1,new me(!1,null,_));return}const l=this.successCodes_.indexOf(h)!==-1;t(!0,new me(l,a))})},o=(t,i)=>{const a=this.resolve_,r=this.reject_,c=i.connection;if(i.wasSuccessCode)try{const h=this.callback_(c,c.getResponse());ws(h)?a(h):a()}catch(h){r(h)}else if(c!==null){const h=Ae();h.serverResponse=c.getErrorText(),this.errorCallback_?r(this.errorCallback_(c,h)):r(h)}else if(i.canceled){const h=this.appDelete_?Je():hs();r(h)}else{const h=us();r(h)}};this.canceled_?o(!1,new me(!1,null,!0)):this.backoffId_=vs(e,o,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&Rs(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class me{constructor(e,o,t){this.wasSuccessCode=e,this.connection=o,this.canceled=!!t}}function As(s,e){e!==null&&e.length>0&&(s.Authorization="Firebase "+e)}function Ts(s,e){s["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function Cs(s,e){e&&(s["X-Firebase-GMPID"]=e)}function Es(s,e){e!==null&&(s["X-Firebase-AppCheck"]=e)}function Ls(s,e,o,t,i,a,r=!0){const c=et(s.urlParams),h=s.url+c,l=Object.assign({},s.headers);return Cs(l,e),As(l,o),Ts(l,a),Es(l,t),new Us(h,s.method,l,s.body,s.successCodes,s.additionalRetryCodes,s.handler,s.errorHandler,s.timeout,s.progressCallback,i,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ds(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function Ns(...s){const e=Ds();if(e!==void 0){const o=new e;for(let t=0;t<s.length;t++)o.append(s[t]);return o.getBlob()}else{if(Ce())return new Blob(s);throw new A(U.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function Os(s,e,o){return s.webkitSlice?s.webkitSlice(e,o):s.mozSlice?s.mozSlice(e,o):s.slice?s.slice(e,o):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ss(s){if(typeof atob>"u")throw bs("base-64");return atob(s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class we{constructor(e,o){this.data=e,this.contentType=o||null}}function Ps(s,e){switch(s){case G.RAW:return new we(tt(e));case G.BASE64:case G.BASE64URL:return new we(st(s,e));case G.DATA_URL:return new we(Ms(e),js(e))}throw Ae()}function tt(s){const e=[];for(let o=0;o<s.length;o++){let t=s.charCodeAt(o);if(t<=127)e.push(t);else if(t<=2047)e.push(192|t>>6,128|t&63);else if((t&64512)===55296)if(!(o<s.length-1&&(s.charCodeAt(o+1)&64512)===56320))e.push(239,191,189);else{const a=t,r=s.charCodeAt(++o);t=65536|(a&1023)<<10|r&1023,e.push(240|t>>18,128|t>>12&63,128|t>>6&63,128|t&63)}else(t&64512)===56320?e.push(239,191,189):e.push(224|t>>12,128|t>>6&63,128|t&63)}return new Uint8Array(e)}function $s(s){let e;try{e=decodeURIComponent(s)}catch{throw de(G.DATA_URL,"Malformed data URL.")}return tt(e)}function st(s,e){switch(s){case G.BASE64:{const i=e.indexOf("-")!==-1,a=e.indexOf("_")!==-1;if(i||a)throw de(s,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case G.BASE64URL:{const i=e.indexOf("+")!==-1,a=e.indexOf("/")!==-1;if(i||a)throw de(s,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let o;try{o=Ss(e)}catch(i){throw i.message.includes("polyfill")?i:de(s,"Invalid character found")}const t=new Uint8Array(o.length);for(let i=0;i<o.length;i++)t[i]=o.charCodeAt(i);return t}class nt{constructor(e){this.base64=!1,this.contentType=null;const o=e.match(/^data:([^,]+)?,/);if(o===null)throw de(G.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const t=o[1]||null;t!=null&&(this.base64=Bs(t,";base64"),this.contentType=this.base64?t.substring(0,t.length-7):t),this.rest=e.substring(e.indexOf(",")+1)}}function Ms(s){const e=new nt(s);return e.base64?st(G.BASE64,e.rest):$s(e.rest)}function js(s){return new nt(s).contentType}function Bs(s,e){return s.length>=e.length?s.substring(s.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class se{constructor(e,o){let t=0,i="";je(e)?(this.data_=e,t=e.size,i=e.type):e instanceof ArrayBuffer?(o?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),t=this.data_.length):e instanceof Uint8Array&&(o?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),t=e.length),this.size_=t,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,o){if(je(this.data_)){const t=this.data_,i=Os(t,e,o);return i===null?null:new se(i)}else{const t=new Uint8Array(this.data_.buffer,e,o-e);return new se(t,!0)}}static getBlob(...e){if(Ce()){const o=e.map(t=>t instanceof se?t.data_:t);return new se(Ns.apply(null,o))}else{const o=e.map(r=>Te(r)?Ps(G.RAW,r).data:r.data_);let t=0;o.forEach(r=>{t+=r.byteLength});const i=new Uint8Array(t);let a=0;return o.forEach(r=>{for(let c=0;c<r.length;c++)i[a++]=r[c]}),new se(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ot(s){let e;try{e=JSON.parse(s)}catch{return null}return ks(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fs(s){if(s.length===0)return null;const e=s.lastIndexOf("/");return e===-1?"":s.slice(0,e)}function Vs(s,e){const o=e.split("/").filter(t=>t.length>0).join("/");return s.length===0?o:s+"/"+o}function it(s){const e=s.lastIndexOf("/",s.length-2);return e===-1?s:s.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zs(s,e){return e}class ${constructor(e,o,t,i){this.server=e,this.local=o||e,this.writable=!!t,this.xform=i||zs}}let pe=null;function Hs(s){return!Te(s)||s.length<2?s:it(s)}function lt(){if(pe)return pe;const s=[];s.push(new $("bucket")),s.push(new $("generation")),s.push(new $("metageneration")),s.push(new $("name","fullPath",!0));function e(a,r){return Hs(r)}const o=new $("name");o.xform=e,s.push(o);function t(a,r){return r!==void 0?Number(r):r}const i=new $("size");return i.xform=t,s.push(i),s.push(new $("timeCreated")),s.push(new $("updated")),s.push(new $("md5Hash",null,!0)),s.push(new $("cacheControl",null,!0)),s.push(new $("contentDisposition",null,!0)),s.push(new $("contentEncoding",null,!0)),s.push(new $("contentLanguage",null,!0)),s.push(new $("contentType",null,!0)),s.push(new $("metadata","customMetadata",!0)),pe=s,pe}function qs(s,e){function o(){const t=s.bucket,i=s.fullPath,a=new q(t,i);return e._makeStorageReference(a)}Object.defineProperty(s,"ref",{get:o})}function Ws(s,e,o){const t={};t.type="file";const i=o.length;for(let a=0;a<i;a++){const r=o[a];t[r.local]=r.xform(t,e[r.server])}return qs(t,s),t}function rt(s,e,o){const t=ot(e);return t===null?null:Ws(s,t,o)}function Xs(s,e,o,t){const i=ot(e);if(i===null||!Te(i.downloadTokens))return null;const a=i.downloadTokens;if(a.length===0)return null;const r=encodeURIComponent;return a.split(",").map(l=>{const _=s.bucket,y=s.fullPath,R="/b/"+r(_)+"/o/"+r(y),C=fe(R,o,t),w=et({alt:"media",token:l});return C+w})[0]}function Ks(s,e){const o={},t=e.length;for(let i=0;i<t;i++){const a=e[i];a.writable&&(o[a.server]=s[a.local])}return JSON.stringify(o)}class Ee{constructor(e,o,t,i){this.url=e,this.method=o,this.handler=t,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function at(s){if(!s)throw Ae()}function Ys(s,e){function o(t,i){const a=rt(s,i,e);return at(a!==null),a}return o}function Gs(s,e){function o(t,i){const a=rt(s,i,e);return at(a!==null),Xs(a,i,s.host,s._protocol)}return o}function ct(s){function e(o,t){let i;return o.getStatus()===401?o.getErrorText().includes("Firebase App Check token is invalid")?i=cs():i=as():o.getStatus()===402?i=rs(s.bucket):o.getStatus()===403?i=ds(s.path):i=t,i.status=o.getStatus(),i.serverResponse=t.serverResponse,i}return e}function dt(s){const e=ct(s);function o(t,i){let a=e(t,i);return t.getStatus()===404&&(a=ls(s.path)),a.serverResponse=i.serverResponse,a}return o}function Qs(s,e,o){const t=e.fullServerUrl(),i=fe(t,s.host,s._protocol),a="GET",r=s.maxOperationRetryTime,c=new Ee(i,a,Gs(s,o),r);return c.errorHandler=dt(e),c}function Zs(s,e){const o=e.fullServerUrl(),t=fe(o,s.host,s._protocol),i="DELETE",a=s.maxOperationRetryTime;function r(h,l){}const c=new Ee(t,i,r,a);return c.successCodes=[200,204],c.errorHandler=dt(e),c}function Js(s,e){return s&&s.contentType||e&&e.type()||"application/octet-stream"}function en(s,e,o){const t=Object.assign({},o);return t.fullPath=s.path,t.size=e.size(),t.contentType||(t.contentType=Js(null,e)),t}function tn(s,e,o,t,i){const a=e.bucketOnlyServerUrl(),r={"X-Goog-Upload-Protocol":"multipart"};function c(){let E="";for(let f=0;f<2;f++)E=E+Math.random().toString().slice(2);return E}const h=c();r["Content-Type"]="multipart/related; boundary="+h;const l=en(e,t,i),_=Ks(l,o),y="--"+h+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+_+`\r
--`+h+`\r
Content-Type: `+l.contentType+`\r
\r
`,R=`\r
--`+h+"--",C=se.getBlob(y,t,R);if(C===null)throw fs();const w={name:l.fullPath},N=fe(a,s.host,s._protocol),k="POST",j=s.maxUploadRetryTime,S=new Ee(N,k,Ys(s,o),j);return S.urlParams=w,S.headers=r,S.body=C.uploadData(),S.errorHandler=ct(e),S}class sn{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=oe.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=oe.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=oe.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,o,t,i){if(this.sent_)throw ce("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(o,e,!0),i!==void 0)for(const a in i)i.hasOwnProperty(a)&&this.xhr_.setRequestHeader(a,i[a].toString());return t!==void 0?this.xhr_.send(t):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw ce("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw ce("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw ce("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw ce("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class nn extends sn{initXhr(){this.xhr_.responseType="text"}}function Le(){return new nn}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class le{constructor(e,o){this._service=e,o instanceof q?this._location=o:this._location=q.makeFromUrl(o,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,o){return new le(e,o)}get root(){const e=new q(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return it(this._location.path)}get storage(){return this._service}get parent(){const e=Fs(this._location.path);if(e===null)return null;const o=new q(this._location.bucket,e);return new le(this._service,o)}_throwIfRoot(e){if(this._location.path==="")throw ys(e)}}function on(s,e,o){s._throwIfRoot("uploadBytes");const t=tn(s.storage,s._location,lt(),new se(e,!0),o);return s.storage.makeRequestWithTokens(t,Le).then(i=>({metadata:i,ref:s}))}function ln(s){s._throwIfRoot("getDownloadURL");const e=Qs(s.storage,s._location,lt());return s.storage.makeRequestWithTokens(e,Le).then(o=>{if(o===null)throw gs();return o})}function rn(s){s._throwIfRoot("deleteObject");const e=Zs(s.storage,s._location);return s.storage.makeRequestWithTokens(e,Le)}function an(s,e){const o=Vs(s._location.path,e),t=new q(s._location.bucket,o);return new le(s.storage,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cn(s){return/^[A-Za-z]+:\/\//.test(s)}function dn(s,e){return new le(s,e)}function ut(s,e){if(s instanceof De){const o=s;if(o._bucket==null)throw ps();const t=new le(o,o._bucket);return e!=null?ut(t,e):t}else return e!==void 0?an(s,e):s}function un(s,e){if(e&&cn(e)){if(s instanceof De)return dn(s,e);throw ke("To use ref(service, url), the first argument must be a Storage instance.")}else return ut(s,e)}function Fe(s,e){const o=e==null?void 0:e[Ze];return o==null?null:q.makeFromBucketSpec(o,s)}function hn(s,e,o,t={}){s.host=`${e}:${o}`,s._protocol="http";const{mockUserToken:i}=t;i&&(s._overrideAuthToken=typeof i=="string"?i:At(i,s.app.options.projectId))}class De{constructor(e,o,t,i,a){this.app=e,this._authProvider=o,this._appCheckProvider=t,this._url=i,this._firebaseVersion=a,this._bucket=null,this._host=Qe,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=os,this._maxUploadRetryTime=is,this._requests=new Set,i!=null?this._bucket=q.makeFromBucketSpec(i,this._host):this._bucket=Fe(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=q.makeFromBucketSpec(this._url,e):this._bucket=Fe(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){Be("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){Be("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const o=await e.getToken();if(o!==null)return o.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new le(this,e)}_makeRequest(e,o,t,i,a=!0){if(this._deleted)return new xs(Je());{const r=Ls(e,this._appId,t,i,o,this._firebaseVersion,a);return this._requests.add(r),r.getPromise().then(()=>this._requests.delete(r),()=>this._requests.delete(r)),r}}async makeRequestWithTokens(e,o){const[t,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,o,t,i).getPromise()}}const Ve="@firebase/storage",ze="0.12.5";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ht="storage";function _t(s,e,o){return s=ue(s),on(s,e,o)}function mt(s){return s=ue(s),ln(s)}function _n(s){return s=ue(s),rn(s)}function Ie(s,e){return s=ue(s),un(s,e)}function Ue(s=It(),e){s=ue(s);const t=wt(s,ht).getImmediate({identifier:e}),i=kt("storage");return i&&mn(t,...i),t}function mn(s,e,o,t={}){hn(s,e,o,t)}function pn(s,{instanceIdentifier:e}){const o=s.getProvider("app").getImmediate(),t=s.getProvider("auth-internal"),i=s.getProvider("app-check-internal");return new De(o,t,i,e,Ut)}function fn(){vt(new Rt(ht,pn,"PUBLIC").setMultipleInstances(!0)),Se(Ve,ze,""),Se(Ve,ze,"esm2017")}fn();const gn={components:{Icon:J},setup(){const s=b(""),e=b(""),o=b(""),t=b([]),i=b(!1),a=b(""),r=b([]),c=b(!1),h=b(!1),l=b(null),_=b(null),y=He(),R=b(y.currentUser),C=Xe(),w=Ue(),N=Ke(C,"recipe");Pe(o,P=>{i.value=P.trim()!==""}),Pe(a,P=>{c.value=P.trim()!==""});const k=()=>{t.value.push(o.value),o.value="",console.log(t.value)},j=()=>{r.value.push(a.value),a.value="",console.log(r.value)},S=P=>{r.value.splice(P,1)},E=P=>{t.value.splice(P,1)},f=b(""),O=P=>{const W=P.target.files[0];W&&(l.value=W,_.value=URL.createObjectURL(W),f.value=W.name)},L=()=>{l.value=null,_.value=null,f.value=""},T=b(!1);return{title:s,descriptions:e,post:async()=>{T.value=!0;const{uid:P,displayName:W,photoURL:ae}=R.value;let ee="";const ne=new Date;if(l.value){const B=Ie(w,`images/${l.value.name}`),z=await _t(B,l.value);ee=await mt(z.ref)}const Q={userId:P,userName:W,userPhotoURL:ae,title:s.value,descriptions:e.value,allIngredients:t.value,allInstructions:r.value,createdAt:ne,imageURL:ee,totalRatings:0,averageRating:0};try{h.value=!0,await St(N,Q),s.value="",e.value="",t.value=[],r.value=[],a.value="",o.value="",l.value=null,document.getElementById("my_modal_3").close(),l.value=null,f.value="",console.log("success!")}catch(B){console.error("Error sending post recipe:",B),T.value=!1}finally{h.value=!1,T.value=!1}},ingredients:o,instructions:a,allInstructions:r,canAddIntructions:c,addIngredients:k,addInstructions:j,allIngredients:t,removeIngredients:E,removeIstructions:S,canAddIngredient:i,loading:h,handleImageUpload:O,imageName:f,imageURL:_,removeSelectedImage:L,postClickToAutoDisableIt:T}}},bn={class:"btn btn-primary rounded-full",onclick:"my_modal_3.showModal()"},yn={class:""},xn={id:"my_modal_3",class:"modal"},vn={class:"modal-box"},Rn=n("form",{method:"dialog"},[n("button",{class:"btn btn-sm btn-circle btn-ghost absolute right-2 top-2"}," ✕ ")],-1),wn=n("h3",{class:"font-bold text-lg"},"Add your recipe.",-1),kn={class:"py-3 grid grid-cols-1 gap-2"},In={class:"form-control w-full"},Un=n("div",{class:"label"},[n("span",{class:"text-xs sm:text-base"},"Title:")],-1),An=n("span",{class:"text-xs sm:text-base"},"Descriptions:",-1),Tn=n("span",{class:"text-xs sm:text-base"},"Ingredients:",-1),Cn={class:"input input-bordered pr-0 flex items-center gap-2"},En=["disabled"],Ln={key:0},Dn={class:"grid grid-cols-1 gap-1 border border-gray-400/10 p-1 rounded-md"},Nn={class:"flex justify-between items-center px-2 py-0.5 bg-blue-100/10 border border-gray-500/10 rounded-md"},On={class:"text-xs font-medium"},Sn=["onUpdate:modelValue"],Pn=["onClick"],$n=n("span",{class:"text-xs sm:text-base"},"Instructions:",-1),Mn={class:"input input-bordered pr-0 flex items-center gap-2"},jn=["disabled"],Bn={key:1},Fn={class:"grid grid-cols-1 gap-1 border border-gray-400/10 p-1 rounded-md"},Vn={class:"flex justify-between items-center px-2 py-0.5 bg-blue-100/10 border border-gray-500/10 rounded-md"},zn={class:"text-xs font-medium"},Hn=["onUpdate:modelValue"],qn=["onClick"],Wn=n("p",{class:"text-xs font-medium"},"Add Image:",-1),Xn={key:0,class:"relative"},Kn=["src"],Yn={class:"flex items-center justify-center w-full my-2"},Gn={for:"dropzone-file",class:"flex flex-col items-center justify-center w-full border border-gray-400/50 h-20 rounded-md cursor-pointer"},Qn={class:"flex flex-col items-center justify-center pt-5 pb-6"},Zn=n("p",{class:"mb-2 text-sm"},[n("span",{class:"font-semibold"},"Click to upload")],-1),Jn={key:0,class:"text-xs"},eo={key:0,class:"loading loading-dots loading-xs"};function to(s,e,o,t,i,a){const r=D("Icon");return d(),u(V,null,[n("button",bn,[m(r,{icon:"ci:add-plus",class:"text-2xl"}),ie("Add Recipes ")]),n("div",yn,[n("dialog",xn,[n("div",vn,[Rn,wn,n("form",{onSubmit:e[8]||(e[8]=H((...c)=>t.post&&t.post(...c),["prevent"]))},[n("div",kn,[n("label",In,[Un,M(n("input",{type:"text",required:"","onUpdate:modelValue":e[0]||(e[0]=c=>t.title=c),placeholder:"Adobo",class:"input input-bordered placeholder:text-xs w-full"},null,512),[[F,t.title]])]),n("div",null,[An,M(n("textarea",{class:"textarea textarea-bordered w-full placeholder:text-xs","onUpdate:modelValue":e[1]||(e[1]=c=>t.descriptions=c),required:"",placeholder:"A classic..."},null,512),[[F,t.descriptions]])]),n("div",null,[Tn,n("label",Cn,[M(n("input",{"onUpdate:modelValue":e[2]||(e[2]=c=>t.ingredients=c),type:"text",class:"w-full placeholder:text-xs",placeholder:"Eggs"},null,512),[[F,t.ingredients]]),n("button",{class:Z(["btn",t.canAddIngredient?"btn-primary ":"btn-disabled"]),disabled:!t.canAddIngredient,onClick:e[3]||(e[3]=H((...c)=>t.addIngredients&&t.addIngredients(...c),["prevent"]))},[m(r,{icon:"ci:add-plus",class:"text-2xl"})],10,En)])]),t.allIngredients.length!==0?(d(),u("div",Ln,[n("div",Dn,[(d(!0),u(V,null,X(t.allIngredients,(c,h)=>(d(),u("div",{key:c.id},[n("div",Nn,[n("span",On,x(h+1)+".",1),M(n("input",{type:"text","onUpdate:modelValue":l=>t.allIngredients[h]=l,class:"input my-1 mx-1 input-bordered input-sm w-full capitalize"},null,8,Sn),[[F,t.allIngredients[h]]]),n("button",{class:"btn btn-sm px-1.5 text-xl",onClick:H(l=>t.removeIngredients(h),["prevent"])},[m(r,{icon:"ri:close-line",class:"text-red-500"})],8,Pn)])]))),128))])])):I("",!0),n("div",null,[$n,n("label",Mn,[M(n("input",{type:"text","onUpdate:modelValue":e[4]||(e[4]=c=>t.instructions=c),class:"w-full placeholder:text-xs",placeholder:"Cook spaghetti until..."},null,512),[[F,t.instructions]]),n("button",{class:Z(["btn",t.canAddIntructions?"btn-primary":"btn-disabled"]),disabled:!t.canAddIntructions,onClick:e[5]||(e[5]=H((...c)=>t.addInstructions&&t.addInstructions(...c),["prevent"]))},[m(r,{icon:"ci:add-plus",class:"text-2xl"})],10,jn)])]),t.allInstructions.length!==0?(d(),u("div",Bn,[n("div",Fn,[(d(!0),u(V,null,X(t.allInstructions,(c,h)=>(d(),u("div",{key:c.id},[n("div",Vn,[n("span",zn,x(h+1)+".",1),M(n("input",{type:"text","onUpdate:modelValue":l=>t.allInstructions[h]=l,class:"input my-1 mx-1 input-bordered input-sm w-full capitalize"},null,8,Hn),[[F,t.allInstructions[h]]]),n("button",{class:"btn btn-sm px-1.5 text-xl",onClick:H(l=>t.removeIstructions(h),["prevent"])},[m(r,{icon:"ri:close-line",class:"text-red-500"})],8,qn)])]))),128))])])):I("",!0),n("div",null,[Wn,t.imageURL?(d(),u("div",Xn,[n("img",{src:t.imageURL,alt:"recipe image",class:"w-32 h-32 rounded-md my-1"},null,8,Kn),n("button",{class:"btn absolute top-0 right-0 btn-xs",onClick:e[6]||(e[6]=H((...c)=>t.removeSelectedImage&&t.removeSelectedImage(...c),["prevent"]))},[m(r,{icon:"carbon:close",class:"text-xl text-red-500"})])])):I("",!0),n("div",Yn,[n("label",Gn,[n("div",Qn,[m(r,{icon:"solar:upload-bold-duotone",class:"text-xl"}),Zn,t.imageName?(d(),u("span",Jn,x(t.imageName),1)):I("",!0)]),n("input",{id:"dropzone-file",accept:"image/*",type:"file",class:"hidden",onChange:e[7]||(e[7]=(...c)=>t.handleImageUpload&&t.handleImageUpload(...c))},null,32)])])]),n("button",{class:Z(["btn mt-5 w-full",t.postClickToAutoDisableIt||t.loading||t.allIngredients.length===0||t.allInstructions.length===0?"btn-disabled":"btn-primary "]),type:"submit"},[ie(" Post Recipe "),t.loading&&t.postClickToAutoDisableIt?(d(),u("span",eo)):I("",!0)],2)])],32)])])])],64)}const so=re(gn,[["render",to]]),no={},oo={class:"flex flex-col gap-2 w-26"},io=n("div",{class:"skeleton h-20 w-full"},null,-1),lo=n("div",{class:"skeleton h-2 w-28"},null,-1),ro=n("div",{class:"skeleton h-2 w-20"},null,-1),ao=n("div",{class:"skeleton h-2 w-full"},null,-1),co=[io,lo,ro,ao];function uo(s,e){return d(),u("div",oo,co)}const pt=re(no,[["render",uo]]),ho={class:"flex justify-start items-center gap-4 my-1"},_o={key:1,class:"text-xs"},mo=["onClick"],ft={__name:"ItemLists",props:{selectedItem:{type:Object,required:!0},itemDesables:{type:Array},handleClick:{type:Function,required:!0}},setup(s){return(e,o)=>(d(),u("ul",null,[(d(!0),u(V,null,X(s.selectedItem,(t,i)=>(d(),u("li",{key:t.id},[n("div",ho,[n("div",null,[s.itemDesables.some(a=>a===i)?(d(),Ct(v(J),{key:0,icon:"lets-icons:check-fill",class:"text-green-500 text-sm"})):(d(),u("span",_o,x(i+1),1))]),n("div",{class:Z(["text-xs px-2 py-1 bg-gray-400/10 flex justify-start items-center gap-2 font-medium cursor-pointer rounded-md",s.itemDesables.some(a=>a===i)?"line-through":""]),onClick:a=>s.handleClick(i)},x(t),11,mo)])]))),128))]))}},po={props:{searchQuery:{type:String,default:""}},components:{Loading:pt,Icon:J,ItemLists:ft},setup(s,e){const{sendingRatingLoading:o,recipe:t,formatHour:i,isLoading:a,loading:r,showRecipeAllModal:c,selectedAllRecipe:h,ratings:l,setRating:_,closeModal:y,ratingsInText:R,sendRatings:C,starArray:w,filteredRecipes:N,muteRateBnt:k,clickInstructions:j,instructionsDisables:S,clickIngredients:E,ingredientsDisables:f}=Ye(s),{collection:O,query:L,onSnapshot:T,firestore:K}=We(),P=b([]),W=Et({}),ae=O(K,"users"),ee=L(ae),ne=T(ee,Q=>{const B=Q.docs.map(z=>({id:z.id,...z.data()}));localStorage.setItem("users",JSON.stringify(B)),P.value=B,B.forEach(z=>{W[z.id]=z.status})}),he=()=>{t.value=t.value.sort((Q,B)=>Q.title.localeCompare(B.title))},_e=()=>{t.value=t.value.sort((Q,B)=>B.averageRating-Q.averageRating)};return qe(()=>{ne()}),{loading:r,sendingRatingLoading:o,recipe:t,formatHour:i,isLoading:a,showRecipeAllModal:c,selectedAllRecipe:h,ratings:l,setRating:_,closeModal:y,ratingsInText:R,sendRatings:C,starArray:w,filteredRecipes:N,muteRateBnt:k,usersStatus:W,clickInstructions:j,instructionsDisables:S,clickIngredients:E,ingredientsDisables:f,sortLetters:he,sortRatings:_e}}},fo={class:"border rounded-2xl border-gray-400/50 p-2 my-3"},go={class:"my-2 flex justify-between items-start"},bo=n("span",{class:"font-semibold text-blue-500 text-sm py-1 px-4 bg-blue-500/10 rounded-full"},"All Recipes",-1),yo={class:""},xo={class:"dropdown dropdown-bottom dropdown-end"},vo={class:"tooltip tooltip-primary","data-tip":"Filter"},Ro={tabindex:"0",role:"button",class:"btn rounded-full bg-transparent btn-sm px-1.5 hover:text-blue-500"},wo={tabindex:"0",class:"dropdown-content border border-gray-500/20 menu bg-base-100 rounded-box z-[1] w-40 p-2 shadow"},ko=n("hr",{class:"border border-gray-500/10 my-2"},null,-1),Io={key:0,class:"w-full"},Uo=n("span",{class:"text-sm px-4 py-1 w-full rounded-full bg-error/10 font-medium text-error"},"No Recipe found",-1),Ao=[Uo],To={class:"flex justify-center sm:justify-start items-center"},Co={key:0,class:"grid grid-cols-3 lg:grid-cols-4 gap-2 sm:gap-3 overflow-hidden py-5 px-2 sm:p-2"},Eo=["onClick"],Lo={class:"rounded-full absolute -top-1 -left-1 shadow-xl border border-secondary"},Do={class:"flex justify-center items-center"},No={class:"avatar"},Oo=["src"],So={class:"bg-blue-500/10 rounded-md"},Po={key:0,class:"w-full h-24 sm:h-32 md:h-40"},$o=["src"],Mo={key:1,class:"pt-2 h-24 sm:h-32 md:h-40 flex justify-center items-center"},jo={class:"py-2"},Bo={class:"card-title text-sm sm:text-lg truncate"},Fo={class:"text-xs truncate"},Vo={class:"sm:text-xs py-0.5 text-[10px] font-medium px-2 rounded-full text-blue-500 truncate bg-blue-500/10"},zo={class:"pt-2"},Ho={key:0,class:"gap-1 text-sm font-medium flex justify-start items-center"},qo={key:0},Wo={id:"my_modal_4",class:"modal",ref:"recipeModal"},Xo={class:"modal-box no-scrollbar"},Ko={method:"dialog",class:"absolute top-0 right-0 p-2 z-10"},Yo={class:"font-bold text-4xl capitalize"},Go={class:"text-xs px-2 py-1 rounded-full bg-primary/10 text-primary"},Qo={key:0,class:"py-2 flex justify-start items-center"},Zo={class:"px-2 text-sm"},Jo={key:1,class:"py-2 flex justify-start items-center"},ei=n("hr",{class:"border border-gray-500/10"},null,-1),ti={class:"py-4"},si=n("p",{class:"text-xs text-primary"},"Discriptions:",-1),ni={class:"capitalize font-medium text-sm"},oi=n("hr",{class:"border border-gray-500/10"},null,-1),ii={class:"py-4"},li=n("p",{class:"text-xs text-primary"},"Ingredients:",-1),ri=n("hr",{class:"border border-gray-500/10"},null,-1),ai={class:"py-4"},ci=n("p",{class:"text-xs text-primary"},"Instructions:",-1),di=n("hr",{class:"border border-gray-500/10 my-2"},null,-1),ui={key:2,class:"flex justify-center items-center"},hi={class:"text-xs tracking-wide bg-blue-500/10 shadow text-blue-500 px-2 py-1 font-semibold rounded-full"},_i={class:"flex justify-center gap-1"},mi={key:0,class:"text-sm font-semibold mt-1"},pi={key:1,class:"text-lg font-semibold mt-1"},fi={class:"flex justify-center items-center gap-2"},gi=["disabled","onClick"],bi={class:"flex justify-center items-center my-2"},yi=["disabled"],xi={key:0,class:"loading loading-dots loading-xs"};function vi(s,e,o,t,i,a){const r=D("Icon"),c=D("Loading"),h=D("ItemLists");return d(),u("div",fo,[n("div",go,[bo,n("div",yo,[n("div",xo,[n("div",vo,[n("div",Ro,[m(r,{icon:"mingcute:filter-3-fill",class:"text-xl"})])]),n("ul",wo,[n("div",{onClick:e[0]||(e[0]=l=>t.sortLetters()),class:"text-sm font-semibold px-4 py-1 hover:bg-gray-500/20 rounded-full"}," A-Z "),ko,n("div",{onClick:e[1]||(e[1]=l=>t.sortRatings()),class:"text-sm font-semibold px-4 py-1 hover:bg-gray-500/20 rounded-full"}," Ratings ")])])])]),t.filteredRecipes.length===0&&!t.loading?(d(),u("div",Io,Ao)):I("",!0),n("div",To,[t.filteredRecipes?(d(),u("div",Co,[(d(!0),u(V,null,X(t.filteredRecipes,l=>(d(),u("div",{key:l.id,onClick:_=>t.showRecipeAllModal(l),class:"card sm:w-52 w-26 bg-base-100 relative rounded-md"},[n("div",Lo,[n("div",Do,[n("div",No,[n("div",{class:Z([t.usersStatus[l.userId]==="online"?"ring-green-500":"ring-gray-500/50","w-5 rounded-full ring ring-offset-base-100 ring-offset-2"])},[l.userPhotoURL?(d(),u("img",{key:0,src:l.userPhotoURL,alt:"profile"},null,8,Oo)):I("",!0)],2)])])]),n("figure",So,[l.imageURL?(d(),u("div",Po,[n("img",{loading:"lazy",src:l.imageURL,alt:"recipe",class:"rounded-md object-cover object-center h-full w-full"},null,8,$o)])):(d(),u("div",Mo,[m(r,{icon:"emojione-v1:pot-of-food",class:"text-4xl"})]))]),n("div",jo,[n("h2",Bo,x(l.title),1),n("p",Fo,x(l.descriptions),1),n("p",Vo,x(l.userName),1),n("div",zo,[l.averageRating?(d(),u("span",Ho,[m(r,{icon:"ic:round-star",class:"text-xl text-yellow-500"}),ie(x(l.averageRating.toFixed(1)),1)])):I("",!0)])])],8,Eo))),128)),t.loading?(d(),u("div",qo,[m(c)])):I("",!0)])):I("",!0)]),n("dialog",Wo,[n("div",Xo,[n("form",Ko,[n("button",{onClick:e[2]||(e[2]=(...l)=>t.closeModal&&t.closeModal(...l))},[m(r,{icon:"iconamoon:close-duotone",class:"text-2xl"})])]),n("h3",Yo,x(t.selectedAllRecipe.title),1),n("div",null,[n("span",Go,x(t.selectedAllRecipe.userName),1)]),t.selectedAllRecipe.totalRatings>0?(d(),u("div",Qo,[(d(!0),u(V,null,X(t.starArray,(l,_)=>(d(),u("div",{key:_},[m(r,{icon:l==="full"?"ic:round-star":l==="half"?"ic:round-star-half":"ic:outline-star-border",class:"text-xl text-yellow-500"},null,8,["icon"])]))),128)),n("span",Zo,x(t.selectedAllRecipe.ratingCount),1)])):(d(),u("div",Jo,[(d(),u(V,null,X(5,l=>n("div",{key:l.id},[m(r,{icon:"ic:outline-star-border",class:"text-xl"})])),64))])),ei,n("div",ti,[si,n("p",ni,x(t.selectedAllRecipe.descriptions),1)]),oi,n("div",ii,[li,m(h,{selectedItem:t.selectedAllRecipe.allIngredients,itemDesables:t.ingredientsDisables,handleClick:t.clickIngredients},null,8,["selectedItem","itemDesables","handleClick"])]),ri,n("div",ai,[ci,m(h,{selectedItem:t.selectedAllRecipe.allInstructions,itemDesables:t.instructionsDisables,handleClick:t.clickInstructions},null,8,["selectedItem","itemDesables","handleClick"])]),di,t.ratingsInText?(d(),u("div",ui,[n("span",hi,x(t.ratingsInText),1)])):I("",!0),n("div",_i,[t.muteRateBnt?(d(),u("span",mi,"Thank's for rating! 😊")):(d(),u("span",pi,"Rate this recipe"))]),n("div",fi,[n("div",{class:Z([t.muteRateBnt?" hidden":"text-yellow-500 ","text-xl px-4 py-2 rounded-full flex gap-1"])},[(d(),u(V,null,X(5,l=>n("div",{key:l},[n("button",{disabled:t.muteRateBnt,onClick:_=>t.setRating(l,t.selectedAllRecipe.id),class:"flex justify-center items-center"},[m(r,{icon:t.ratings>=l?"ic:outline-star":"ic:outline-star-border"},null,8,["icon"])],8,gi)])),64))],2)]),n("div",bi,[t.ratingsInText?(d(),u("button",{key:0,disabled:t.ratings===0,class:"btn px-6 shadow rounded-full btn-primary flex justify-center items-center",onClick:e[3]||(e[3]=(...l)=>t.sendRatings&&t.sendRatings(...l))},[ie(" Submit "),t.sendingRatingLoading?(d(),u("span",xi)):I("",!0)],8,yi)):I("",!0)])])],512)])}const Ri=re(po,[["render",vi]]),wi={components:{Loading:pt,Icon:J,ItemLists:ft},setup(s,e){const o=b(!0),t=b(!1),i=He(),a=b(i.currentUser),r=Xe(),{uid:c}=a.value,h=c,l=b([]),_=b({}),{clickInstructions:y,instructionsDisables:R,clickIngredients:C,ingredientsDisables:w}=Ye(s),N=Ke(r,"recipe"),k=Pt(N,Mt("createdAt","asc"),$t("userId","==",h)),j=jt(k,p=>{l.value=p.docs.map(g=>({id:g.id,...g.data()})).reverse(),o.value=!1}),S=p=>{const g=p.seconds,Y=p.nanoseconds/1e6;return new Date(g*1e3+Y)},E=p=>{const g=S(p),Y=g.getFullYear().toString().slice(-2),te=g.toLocaleString("default",{month:"short"}),ye=g.getUTCDate(),xe=g.getHours()%12||12,bt=("0"+g.getMinutes()).slice(-2),yt=g.getHours()<12?"am":"pm";return`${ye} ${te} ${Y} (${xe}:${bt} ${yt})`};let f=b("");const O=p=>{_.value=p,document.getElementById("my_modal_2").showModal()},L=(p,g)=>{_.value=g,f.value=p},T=()=>{document.getElementById("my_modal_delete").showModal()},K=()=>{console.log("edit recipe",f.value),console.log(_.value),document.getElementById("my_modal_edit").showModal()},P=async()=>{try{if(t.value=!0,!f.value){console.error("No recipe selected for deletion.");return}const p=$e(r,"recipe",f.value),Y=(await Me(p)).data();if(await Bt(p),Y&&Y.imageURL){const ye=Ue(),xe=Ie(ye,Y.imageURL);await _n(xe)}document.getElementById("my_modal_delete").close(),console.log("Recipe and associated image deleted successfully:",f.value)}catch(p){console.error("Error deleting recipe and associated image:",p),document.getElementById("my_modal_delete").close(),t.value=!1}finally{t.value=!1}},W=async(p,g)=>{const Y=Ue(),te=Ie(Y,`images/${g}/${p.name}`);return await _t(te,p),await mt(te)},ae=async()=>{try{t.value=!0;let p=null;z.value&&(p=await W(z.value,h));const g=$e(r,"recipe",f.value),te=(await Me(g)).data();await Ft(g,{..._.value,imageURL:p||te.imageURL}),Oe("my_modal_edit"),console.log("Recipe updated successfully:",f.value)}catch(p){console.error("Error updating recipe:",p),document.getElementById("my_modal_edit").close()}finally{t.value=!1}},ee=b(""),ne=b(""),he=()=>{_.value.allIngredients.push(ee.value),console.log(_.value.allIngredients),ee.value=""},_e=p=>{_.value.allIngredients.splice(p,1),console.log(_.value.allIngredients)},Q=()=>{_.value.allInstructions.push(ne.value),console.log(_.value.allInstructions),ne.value=""},B=p=>{_.value.allInstructions.splice(p,1),console.log(_.value.allInstructions)},z=b(null),ge=b(""),be=b(null),gt=p=>{const g=p.target.files[0];g&&(z.value=g,be.value=URL.createObjectURL(g),ge.value=g.name),_.value.imageURL=z.value,console.log(g)},Ne=()=>{z.value=null,be.value=null,ge.value="",_.value.imageURL=null},Oe=p=>{R.value=[],w.value=[],document.getElementById(p).close(),Ne()};return qe(()=>{j()}),{loading:o,isSaveloading:t,recipe:l,formatHour:E,editShowRecipe:L,deleteShowRecipe:T,showRecipeModal:O,selectedRecipe:_,editRecipe:K,deleteRecipe:P,saveEditRecipe:ae,removeIngredient:_e,addIngredient:he,editAddInstruction:ne,editAddIngredient:ee,removeInstruction:B,addInstruction:Q,handleImageUpload:gt,imageName:ge,imageURL:be,clearImageSelection:Ne,clickInstructions:y,instructionsDisables:R,clickIngredients:C,ingredientsDisables:w,closeModal:Oe}}},ki={class:"border rounded-2xl border-gray-400/50 p-2 my-3"},Ii=n("div",{class:"my-2"},[n("span",{class:"font-semibold text-sm py-1 px-4 bg-gray-500/10 rounded-full"},"Your Recipes")],-1),Ui={key:0},Ai=n("div",{class:"my-2"},[n("span",{class:"font-semibold text-xs text-red-400 px-3 py-0.5 rounded-full"},"You don't have recipe yet.")],-1),Ti=[Ai],Ci={class:"flex justify-center sm:justify-start items-center"},Ei={key:0,class:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 gap-1 sm:gap-3 overflow-hidden py-5 sm:p-2"},Li=["onClick"],Di={class:"dropdown dropdown-end absolute z-50 top-0 right-0 text-gray-800 shadow"},Ni=["onClick"],Oi={tabindex:"0",role:"button",class:"btn btn-primary rounded-none btn-xs"},Si={tabindex:"0",class:"dropdown-content z-[20] menu border border-gray-400/10 p-2 shadow bg-base-100 rounded-md w-32"},Pi=n("p",{class:"text-xs"},"Edit",-1),$i=n("p",{class:"text-xs"},"Delete",-1),Mi={class:"bg-blue-500/10 rounded-md"},ji={key:0,class:"w-full bg-primary/10 h-24 sm:h-30 md:h-40"},Bi=["src"],Fi={key:1,class:"pt-2 h-24 sm:h-32 md:h-40 flex justify-center items-center"},Vi={class:"py-3"},zi={class:"card-title truncate"},Hi={class:"text-xs truncate"},qi={class:"text-[10px] font-medium"},Wi={key:0},Xi={id:"my_modal_edit",class:"modal"},Ki={class:"modal-box no-scrollbar"},Yi=n("h3",{class:"font-bold text-4xl"},"Edit Recipe",-1),Gi={class:"py-2"},Qi=n("label",{class:"block text-sm font-medium text-primary"},"Title",-1),Zi={class:"py-2"},Ji=n("label",{class:"block text-sm font-medium text-primary"},"Description",-1),el={class:"py-2"},tl=n("label",{class:"block text-sm font-medium text-primary"},"Ingredients",-1),sl={class:"border border-gray-400/50 p-2 rounded-md"},nl={class:"flex justify-start items-center gap-1"},ol={class:"py-1"},il=["disabled"],ll=n("hr",{class:"my-1 border border-gray-400/20"},null,-1),rl={class:"text-xs font-semibold"},al=["onUpdate:modelValue"],cl=["onClick"],dl={class:"py-2"},ul=n("label",{class:"block text-sm font-medium text-primary"},"Instructions",-1),hl={class:"border border-gray-400/50 p-2 rounded-md"},_l={class:"flex justify-start items-center gap-1"},ml={class:"py-1"},pl=["disabled"],fl=n("hr",{class:"my-1 border border-gray-400/20"},null,-1),gl={class:"text-xs font-semibold"},bl=["onUpdate:modelValue"],yl=["onClick"],xl={class:"py-2"},vl=n("label",{class:"block text-sm font-medium text-primary"},"Image",-1),Rl={key:0,class:"relative"},wl=["src"],kl={key:1,class:"my-1"},Il=n("span",{class:"text-sm font-medium px-4 py-1 bg-primary/10 rounded-full text-error"},"No image atm.",-1),Ul=[Il],Al={class:"flex items-center justify-center w-full my-2"},Tl={for:"dropzone-files",class:"flex flex-col items-center justify-center w-full border border-gray-400/50 h-20 rounded-md cursor-pointer"},Cl={class:"flex flex-col items-center justify-center pt-5 pb-6"},El=n("p",{class:"mb-2 text-sm"},[n("span",{class:"font-semibold"},"Click to upload")],-1),Ll={key:0,class:"text-xs"},Dl={class:"modal-action"},Nl={key:0,class:"loading loading-dots loading-xs"},Ol=n("form",{method:"dialog"},[n("button",{class:"btn"},"Cancel")],-1),Sl={id:"my_modal_delete",class:"modal"},Pl={class:"modal-box no-scrollbar"},$l=n("h3",{class:"font-bold text-lg"}," Are you sure you want to delete this recipe? ",-1),Ml={class:"modal-action"},jl={key:0,class:"loading loading-dots loading-xs"},Bl=n("form",{method:"dialog"},[n("button",{class:"btn"},"Cancel")],-1),Fl={id:"my_modal_2",class:"modal",ref:"recipeModal"},Vl={class:"modal-box no-scrollbar"},zl={method:"dialog",class:"absolute top-0 right-0 p-2 z-10"},Hl={class:"font-bold text-4xl capitalize"},ql={class:"py-4"},Wl=n("p",{class:"text-xs text-primary"},"Discriptions:",-1),Xl={class:"capitalize font-medium text-sm"},Kl=n("hr",{class:"border border-gray-500/10"},null,-1),Yl={class:"py-4"},Gl=n("p",{class:"text-xs text-primary"},"Ingredients:",-1),Ql=n("hr",{class:"border border-gray-500/10"},null,-1),Zl={class:"py-4"},Jl=n("p",{class:"text-xs text-primary"},"Instructions:",-1);function er(s,e,o,t,i,a){const r=D("Icon"),c=D("Loading"),h=D("ItemLists");return d(),u("div",ki,[Ii,t.recipe.length===0&&!t.loading?(d(),u("div",Ui,Ti)):I("",!0),n("div",Ci,[t.recipe.length!==0?(d(),u("div",Ei,[(d(!0),u(V,null,X(t.recipe,l=>(d(),u("div",{key:l.id,onClick:_=>t.showRecipeModal(l),class:"card sm:w-52 w-26 bg-base-100 relative rounded-md"},[n("div",Di,[n("button",{class:"flex justify-center items-center",onClick:H(_=>t.editShowRecipe(l.id,l),["stop"])},[n("div",Oi,[m(r,{icon:"material-symbols-light:settings-outline",class:"text-xl"})])],8,Ni),n("ul",Si,[n("div",{class:"btn flex justify-start text-green-500 mb-1",onClick:e[0]||(e[0]=H(_=>t.editRecipe(s.id),["stop"]))},[m(r,{icon:"material-symbols:edit"}),Pi]),n("div",{class:"btn flex justify-start text-red-500",onClick:e[1]||(e[1]=H(_=>t.deleteShowRecipe(s.id),["stop"]))},[m(r,{icon:"ant-design:delete-twotone"}),$i])])]),n("figure",Mi,[l.imageURL?(d(),u("div",ji,[n("img",{src:l.imageURL,alt:"recipe",loading:"lazy",class:"object-cover object-center h-full w-full rounded-md"},null,8,Bi)])):(d(),u("div",Fi,[m(r,{icon:"emojione-v1:pot-of-food",class:"text-4xl"})]))]),n("div",Vi,[n("h2",zi,x(l.title),1),n("p",Hi,x(l.descriptions),1),n("p",qi,x(t.formatHour(l.createdAt)),1)])],8,Li))),128)),t.loading?(d(),u("div",Wi,[m(c)])):I("",!0)])):I("",!0),n("dialog",Xi,[n("div",Ki,[Yi,n("div",Gi,[Qi,M(n("input",{type:"text","onUpdate:modelValue":e[2]||(e[2]=l=>t.selectedRecipe.title=l),class:"input input-bordered w-full"},null,512),[[F,t.selectedRecipe.title]])]),n("div",Zi,[Ji,M(n("textarea",{class:"textarea textarea-bordered w-full","onUpdate:modelValue":e[3]||(e[3]=l=>t.selectedRecipe.descriptions=l)},null,512),[[F,t.selectedRecipe.descriptions]])]),n("div",el,[tl,n("div",sl,[n("div",nl,[M(n("input",{type:"text","onUpdate:modelValue":e[4]||(e[4]=l=>t.editAddIngredient=l),class:"input my-1 input-bordered w-full capitalize"},null,512),[[F,t.editAddIngredient]]),n("div",ol,[n("button",{disabled:t.editAddIngredient==="",class:"btn btn-primary",onClick:e[5]||(e[5]=(...l)=>t.addIngredient&&t.addIngredient(...l))}," Add ",8,il)])]),ll,(d(!0),u(V,null,X(t.selectedRecipe.allIngredients,(l,_)=>(d(),u("div",{key:_,class:"flex items-center space-x-2"},[n("span",rl,x(_+1)+".",1),M(n("input",{type:"text","onUpdate:modelValue":y=>t.selectedRecipe.allIngredients[_]=y,class:"input my-1 input-bordered input-sm w-full capitalize"},null,8,al),[[F,t.selectedRecipe.allIngredients[_]]]),n("button",{class:"btn text-xl btn-sm px-1.5",onClick:H(y=>t.removeIngredient(_),["prevent"])},[m(r,{icon:"ri:close-line",class:"text-red-500"})],8,cl)]))),128))])]),n("div",dl,[ul,n("div",hl,[n("div",_l,[M(n("input",{type:"text","onUpdate:modelValue":e[6]||(e[6]=l=>t.editAddInstruction=l),class:"input my-1 input-bordered w-full capitalize"},null,512),[[F,t.editAddInstruction]]),n("div",ml,[n("button",{disabled:t.editAddInstruction==="",class:"btn btn-primary",onClick:e[7]||(e[7]=(...l)=>t.addInstruction&&t.addInstruction(...l))}," Add ",8,pl)])]),fl,(d(!0),u(V,null,X(t.selectedRecipe.allInstructions,(l,_)=>(d(),u("div",{key:_,class:"flex items-center space-x-2"},[n("span",gl,x(_+1)+".",1),M(n("input",{type:"text","onUpdate:modelValue":y=>t.selectedRecipe.allInstructions[_]=y,class:"input my-1 input-bordered input-sm w-full capitalize"},null,8,bl),[[F,t.selectedRecipe.allInstructions[_]]]),n("button",{class:"btn btn-sm px-1.5 text-xl",onClick:H(y=>t.removeInstruction(_),["prevent"])},[m(r,{icon:"ri:close-line",class:"text-red-500"})],8,yl)]))),128))])]),n("div",xl,[vl,t.imageURL||t.selectedRecipe.imageURL?(d(),u("div",Rl,[t.imageURL?(d(),u("button",{key:0,onClick:e[8]||(e[8]=(...l)=>t.clearImageSelection&&t.clearImageSelection(...l)),class:"absolute -top-1 -right-1 z-10 btn btn-xs"},[m(r,{icon:"ri:close-line",class:"text-red-500 text-xl"})])):I("",!0),t.imageURL||t.selectedRecipe.imageURL?(d(),u("img",{key:1,src:t.imageURL||t.selectedRecipe.imageURL,alt:"recipe",class:"w-min rounded-md my-1"},null,8,wl)):I("",!0)])):(d(),u("div",kl,Ul)),n("div",Al,[n("label",Tl,[n("div",Cl,[m(r,{icon:"solar:upload-bold-duotone",class:"text-xl"}),El,t.imageName?(d(),u("span",Ll,x(t.imageName),1)):I("",!0)]),n("input",{id:"dropzone-files",accept:"image/*",type:"file",class:"hidden",onChange:e[9]||(e[9]=(...l)=>t.handleImageUpload&&t.handleImageUpload(...l))},null,32)])])]),n("div",Dl,[n("button",{onClick:e[10]||(e[10]=H((...l)=>t.saveEditRecipe&&t.saveEditRecipe(...l),["stop"])),class:"btn btn-success w-32"},[ie(" Update "),t.isSaveloading?(d(),u("span",Nl)):I("",!0)]),Ol])])]),n("dialog",Sl,[n("div",Pl,[$l,n("div",Ml,[n("button",{onClick:e[11]||(e[11]=H((...l)=>t.deleteRecipe&&t.deleteRecipe(...l),["stop"])),class:"btn btn-error w-32"},[ie(" Delete "),t.isSaveloading?(d(),u("span",jl)):I("",!0)]),Bl])])]),n("dialog",Fl,[n("div",Vl,[n("form",zl,[n("button",{onClick:e[12]||(e[12]=l=>t.closeModal("my_modal_2"))},[m(r,{icon:"iconamoon:close-duotone",class:"text-2xl"})])]),n("h3",Hl,x(t.selectedRecipe.title),1),n("div",ql,[Wl,n("p",Xl,x(t.selectedRecipe.descriptions),1)]),Kl,n("div",Yl,[Gl,m(h,{selectedItem:t.selectedRecipe.allIngredients,itemDesables:t.ingredientsDisables,handleClick:t.clickIngredients},null,8,["selectedItem","itemDesables","handleClick"])]),Ql,n("div",Zl,[Jl,m(h,{selectedItem:t.selectedRecipe.allInstructions,itemDesables:t.instructionsDisables,handleClick:t.clickInstructions},null,8,["selectedItem","itemDesables","handleClick"])])])],512)])])}const tr=re(wi,[["render",er]]),sr={class:"text-sm text-gray-400 flex justify-start gap-2 items-center w-full border border-gray-500/40 rounded-full px-2 py-1"},nr={class:"p-1 rounded-full transition text-orange-500"},or=n("span",null,"Search...",-1),ir={id:"searchModal",class:"modal"},lr={class:"modal-box"},rr={method:"dialog",class:"absolute top-0 right-0 p-2 z-10"},ar={class:"my-3 flex justify-start gap-2 text-sm items-center"},cr={class:"min-h-96"},dr={class:"my-2"},ur={class:"font-semibold text-xs text-gray-500 bg-gray-500/10 px-3 py-0.5 shadow-sm rounded-full"},hr={key:1,class:""},_r={class:"font-medium text-sm text-red-400"},mr={id:"searchChat",class:"modal modal-bottom sm:modal-middle"},pr={__name:"Search",setup(s){const e=b(""),o=()=>{document.getElementById("searchModal").showModal(),console.log("hey")},t=Lt(()=>e.value===""?f.value.sort((O,L)=>{const T=a(h,O.id),K=a(h,L.id);return N.value[K]-N.value[T]}):f.value.filter(O=>O.userName.toLowerCase().includes(e.value.toLowerCase()))),{Time:i,getChatId:a,yourChat:r,sendMessage:c,userId:h,newMessage:l,messages:_,isLoading:y,isSendMessageLoading:R,filteredMessages:C,selectedUser:w,timestamp:N,userPhoto:k,userName:j,latestMessages:S,isSender:E,storedUsers:f}=Ge();return(O,L)=>(d(),u(V,null,[n("div",{class:"my-3 flex justify-start gap-2 items-center",onClick:L[0]||(L[0]=T=>o())},[n("div",sr,[n("div",nr,[m(v(J),{icon:"lets-icons:search-light",class:"text-2xl"})]),or])]),n("dialog",ir,[n("div",lr,[n("form",rr,[n("button",null,[m(v(J),{icon:"iconamoon:close-duotone",class:"text-2xl text-red-500"})])]),n("div",ar,[M(n("input",{type:"search",autofocus:"","onUpdate:modelValue":L[1]||(L[1]=T=>e.value=T),placeholder:"Search",class:"input input-bordered input-md w-full rounded-full"},null,512),[[F,e.value]])]),n("div",cr,[n("div",dr,[n("span",ur,[ie("Users "),n("span",{class:Z(["pl-1 text-blue-500",t.value.length===0?"text-red-500":""])},x(t.value.length),3)])]),n("div",null,[t.value.length!==0?(d(!0),u(V,{key:0},X(t.value,T=>(d(),u("div",{key:T.id},[m(Vt,{user:T,yourChat:()=>v(r)("searchChat",T),formatTime:v(i),latestMessages:v(S),getChatId:v(a),userId:v(h),isSender:v(E),timestamp:v(N)},null,8,["user","yourChat","formatTime","latestMessages","getChatId","userId","isSender","timestamp"])]))),128)):(d(),u("div",hr,[n("span",_r,x(e.value)+" not found",1)]))]),n("dialog",mr,[m(zt,{userId:v(h),messages:v(_),selectedUser:v(w),userPhoto:v(k),userName:v(j),isSendMessageLoading:v(R),isLoading:v(y),formatTime:v(i),sendMessage:v(c),filteredMessages:v(C),modelValue:v(l),"onUpdate:modelValue":L[2]||(L[2]=T=>Dt(l)?l.value=T:null)},null,8,["userId","messages","selectedUser","userPhoto","userName","isSendMessageLoading","isLoading","formatTime","sendMessage","filteredMessages","modelValue"])])])])])],64))}},fr={class:"indicator"},gr={key:0,class:"indicator-item badge badge-primary text-xs font-semibold"},br={class:"",onclick:"chatModal.showModal()"},yr={id:"chatModal",class:"modal"},xr={class:"modal-box"},vr=n("h3",{class:"font-bold text-xl"},"Chats",-1),Rr=n("hr",{class:"border border-gray-400/10 my-1"},null,-1),wr={class:"flex justify-start items-center gap-2 mt-2 mb-4"},kr=n("form",{method:"dialog",class:"modal-backdrop"},[n("button",null,"close")],-1),Ir={__name:"chats",setup(s){const{newMessageArray:e}=Ge();return(o,t)=>{const i=D("router-link"),a=D("router-view");return d(),u(V,null,[m(i,{to:"yourChats",class:"relative flex justify-center"},{default:ve(()=>[n("div",fr,[v(e)!==0?(d(),u("span",gr,x(v(e)),1)):I("",!0),n("button",br,[m(v(J),{icon:"ant-design:message-filled",class:"text-3xl hover:text-blue-500 transition"})])])]),_:1}),n("dialog",yr,[n("div",xr,[vr,Rr,m(pr),n("div",wr,[m(i,{to:"yourChats"},{default:ve(()=>[n("button",{class:Z(["rounded-full tracking-wide",o.$route.path==="/yourChats"?"btn btn-sm bg-blue-400/10 text-blue-500 ":"hover:bg-blue-500/10 hover:text-blue-400 text-gray-400 transition px-4 py-1.5 font-semibold text-xs"])}," Home ",2)]),_:1}),m(i,{to:"chefs"},{default:ve(()=>[n("button",{class:Z(["rounded-full tracking-wide",o.$route.path==="/chefs"?"btn btn-sm text-blue-500 bg-blue-400/10":"hover:bg-blue-500/10 hover:text-blue-500 text-gray-400 transition px-4 py-1.5 font-semibold text-xs"])}," Chefs ",2)]),_:1})]),n("div",null,[m(a)])]),kr])],64)}}},Ur={},Ar={class:"loader"};function Tr(s,e){return d(),u("div",Ar)}const Cr=re(Ur,[["render",Tr]]),Er={components:{Header:ns,Icon:J,AddRecipe:so,AllRecipe:Ri,YourRecipe:tr,Chats:Ir,Loading:Cr},setup(){const s=b(""),e=b(!0);return Nt(()=>{setTimeout(()=>{e.value=!1,console.log("loading")},500),e.value=!0}),{search:s,filter:()=>{console.log(s.value)},LoadingWebsite:e}}},Lr={key:0,class:"p-2 flex justify-center items-center"},Dr={class:"max-w-6xl min-w-2xl"},Nr={class:"flex justify-end gap-2 items-center my-2"},Or=["disabled"],Sr={class:"flex justify-start items-center gap-2 mt-5"},Pr={key:1};function $r(s,e,o,t,i,a){const r=D("Header"),c=D("Icon"),h=D("AddRecipe"),l=D("Chats"),_=D("YourRecipe"),y=D("AllRecipe"),R=D("Loading"),C=Ot("motion-fade");return t.LoadingWebsite?(d(),u("div",Pr,[m(R)])):M((d(),u("div",Lr,[n("div",Dr,[m(r),n("div",Nr,[M(n("input",{type:"search","onUpdate:modelValue":e[0]||(e[0]=w=>t.search=w),placeholder:"Search...",class:"input rounded-full input-bordered sm:w-52 md:w-96 w-full"},null,512),[[F,t.search]]),n("button",{disabled:t.search.length===0,class:"btn btn-primary rounded-full",onClick:e[1]||(e[1]=(...w)=>t.filter&&t.filter(...w))},[m(c,{icon:"bi:search",class:"text-lg"})],8,Or)]),n("div",Sr,[m(h),m(l)]),m(_),m(y,{searchQuery:t.search},null,8,["searchQuery"])])])),[[C]])}const Fr=re(Er,[["render",$r]]);export{Fr as default};
